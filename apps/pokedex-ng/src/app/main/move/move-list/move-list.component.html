<div class="move-table-container w-100 d-flex flex-column align-items-center">
  <pokedex-ng-filter-toolbar
    class="move-table"
    *ngIf="this.appNavbarService.getShowFilters$() | async"
    [showGenerationFilter]="true"
    [showTypesFilter]="true"
  ></pokedex-ng-filter-toolbar>
  <div class="table-responsive move-table">
    <table class="table table-hover table-sm">
      <caption class="d-none">
        All Moves
      </caption>
      <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">Name</th>
          <th scope="col">Gen</th>
          <th scope="col">Type</th>
          <th scope="col">Power</th>
          <th scope="col">PP</th>
          <th scope="col">Accuracy</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let move of getMoves$() | async">
          <tr (click)="expandedMove = expandedMove === this.move.id ? 0 : this.move.id">
            <td class="p-0 align-middle">{{ move.id }}</td>
            <td class="p-0 align-middle">{{ "MOVE." + move.name + ".NAME" | translate }}</td>
            <td class="p-0 align-middle">{{ move.generation }}</td>
            <td class="p-0 align-middle d-flex justify-content-start">
              <span class="m-1 px-2 rounded-lg" [ngStyle]="{ 'background-color': move.type | pokeTypeColor }">{{
                "TYPE." + move.type | translate | uppercase
              }}</span>
            </td>
            <td class="p-0 align-middle">{{ move.power }}</td>
            <td class="p-0 align-middle">{{ move.pp }}</td>
            <td class="p-0 align-middle">{{ move.accuracy }}</td>
          </tr>
          <tr *ngIf="move.id === this.expandedMove">
            <td colspan="7">
              <pokedex-ng-move-detail [moveId]="move.id"></pokedex-ng-move-detail>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>
