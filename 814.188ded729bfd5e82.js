"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[814],{7814:(D,h,i)=>{i.r(h),i.d(h,{MoveModule:()=>R});var a=i(9808),m=i(2546),g=i(8624),p=i(8996),Z=i(1150),T=i(6719),M=i(493),x=i(5707),v=i(7207),S=i(515),A=i(262),e=i(5e3);let y=(()=>{class o{constructor(t,n){this.moveService=t,this.router=n}resolve(t){var n;return this.moveService.fetchApiOne((null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.move)||1).pipe((0,A.K)(()=>(this.router.navigate(["move","1"]),S.E)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(p.q),e.LFG(v.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var F=i(727),u=i(1135),b=i(6451),C=i(8505),L=i(3900),O=i(4004),c=i(5684),U=i(4474),$=i(8342),N=i(8684),Q=i(3805),J=i(9168),G=i(9919);function I(o,r){1&o&&e._UZ(0,"pokedex-ng-filter-toolbar",6),2&o&&e.Q6J("showGenerationFilter",!0)("showTypesFilter",!0)}function Y(o,r){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",12),e._UZ(2,"pokedex-ng-move-detail",13),e.qZA(),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("moveId",t.id)}}function B(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return l.expandedMove=l.expandedMove===s.id.toString()||l.expandedMove===s.name?"":s.name}),e.TgZ(2,"td",8),e._uU(3),e.qZA(),e.TgZ(4,"td",8),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"td",8),e._uU(8),e.qZA(),e.TgZ(9,"td",8),e.TgZ(10,"div",9),e._UZ(11,"pokedex-ng-type-pill",10),e.qZA(),e.qZA(),e.TgZ(12,"td",8),e._uU(13),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.qZA(),e.TgZ(16,"td",8),e._uU(17),e.qZA(),e.qZA(),e.YNc(18,Y,3,1,"tr",11),e.BQk()}if(2&o){const t=r.$implicit,n=e.oxw();e.xp6(3),e.Oqu(t.id),e.xp6(2),e.Oqu(e.lcZ(6,10,"MOVE."+t.name+".NAME")),e.xp6(3),e.Oqu(t.generation),e.xp6(3),e.Q6J("type",t.type)("clickable",!1)("size",12),e.xp6(2),e.Oqu(t.power),e.xp6(2),e.Oqu(t.pp),e.xp6(2),e.Oqu(t.accuracy),e.xp6(1),e.Q6J("ngIf",n.expandedMove===t.id.toString()||n.expandedMove===t.name)}}let f=(()=>{class o{constructor(t,n,d,s,l){this.moveService=t,this.filterService=n,this.languageService=d,this.appNavbarService=s,this.route=l,this.subscriptions=new F.w0,this._moves$=new u.X([]),this._filterChange$=new u.X(!0),this.expandedMove="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(t=>{var n;this.expandedMove=(null===(n=null==t?void 0:t.move)||void 0===n?void 0:n.name)||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showSearchBar(),this.appNavbarService.showFiltersButton()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getMoves$(){return this._moves$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe((0,C.b)(t=>t?this.offset=this.increment:this.offset+=this.increment),(0,L.w)(()=>this.moveService.getAllFiltered()),(0,O.U)(t=>t.slice(0,this.offset))).subscribe(t=>this._moves$.next(t))}_filterChangesSubscription(){return(0,b.T)(this.filterService.getQueryFilter$().pipe((0,c.T)(1)),this.filterService.getTypesFilter$().pipe((0,c.T)(1)),this.filterService.getGenerationFilter$().pipe((0,c.T)(1)),this.languageService.getDisplayLanguage$().pipe((0,c.T)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.q),e.Y36(U.i),e.Y36($.T),e.Y36(N.t),e.Y36(v.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["pokedex-ng-move-list"]],decls:24,vars:8,consts:[[1,"move-table-container","w-100","d-flex","flex-column","align-items-center"],["class","move-table",3,"showGenerationFilter","showTypesFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","move-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Move Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"move-table",3,"showGenerationFilter","showTypesFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"p-1"],[3,"type","clickable","size"],[4,"ngIf"],["colspan","7"],[3,"moveId"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,I,1,2,"pokedex-ng-filter-toolbar",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e.NdJ("scrolled",function(){return n.renderMore()}),e.TgZ(4,"table",3),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e.TgZ(7,"th",4),e._uU(8,"Id"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Gen"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Type"),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"Power"),e.qZA(),e.TgZ(17,"th",4),e._uU(18,"PP"),e.qZA(),e.TgZ(19,"th",4),e._uU(20,"Accuracy"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,B,19,12,"ng-container",5),e.ALo(23,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,n.appNavbarService.getShowFilters$())),e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",150),e.xp6(19),e.Q6J("ngForOf",e.lcZ(23,6,n.getMoves$())))},directives:[a.O5,g.R,a.sg,Q.Q,J.D,G.Q],pipes:[a.Ov,m.Ot],styles:[".move-table[_ngcontent-%COMP%]{max-width:1000px}"]}),o})();const q=[{path:"",component:f},{path:":move",component:f,resolve:{move:y}}];let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[v.Bz.forChild(q)],v.Bz]}),o})(),R=(()=>{class o{constructor(t,n){this.moveService=t,this.typeService=n}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(p.q),e.LFG(Z.S))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[a.ez,z,x.l,T.m,g.X,m.y4,M.Q]]}),o})()}}]);