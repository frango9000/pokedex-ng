"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[715],{1285:(W,E,c)=>{c.d(E,{Q:()=>q});var e=c(4650),v=c(6895),S=c(727),x=c(5698),m=c(2683),k=c(5360),O=c(529);let P=(()=>{class i extends k.bQ{constructor(n){super("generation",n),this.http=n}}return i.\u0275fac=function(n){return new(n||i)(e.LFG(O.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var a=c(2602);function I(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(d){const F=e.CHM(n).$implicit,w=e.oxw();return e.KtG(w.onFilterChange(d,F))}),e._uU(1),e.qZA()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.hij("Generation ",n.resource.id,"")}}let h=(()=>{class i{constructor(n,r){this.filterService=n,this.generationService=r,this.selectableGenerations=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllGenerations())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setGenerationFilter(this.selectableGenerations.filter(d=>d.active).map(d=>d.resource.id))}_subscribeToGetAllGenerations(){return this.generationService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableGenerations=n.map(r=>({active:!1,resource:r})),this.subscriptions.add(this._subscribeToGetGenerationFilter())})}_subscribeToGetGenerationFilter(){return this.filterService.getGenerationFilter$().subscribe(n=>{this.selectableGenerations.forEach(r=>{r.active=n.includes(r.resource.id)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(m.i),e.Y36(P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-generation-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Generations "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,I,2,2,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.filterService.setGenerationFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.selectableGenerations))},dependencies:[v.sg,a.mT,a.b6,a.Mq,a.TO,a.bK],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),i})();var _=c(2219),T=c(5380),K=c(8242);function H(i,p){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"mdb-checkbox",7,8),e.NdJ("change",function(d){e.CHM(n);const D=e.oxw();return e.KtG(D.filterService.setTypesFilterInclusiveness(d.checked))}),e.ALo(3,"async"),e.TgZ(4,"div",9),e._uU(5),e.qZA()(),e._UZ(6,"div",10),e.BQk()}if(2&i){const n=e.MAs(2),r=e.oxw();e.xp6(1),e.Q6J("checked",e.lcZ(3,2,r.filterService.getTypesFilterInclusiveness$())),e.xp6(4),e.Oqu(n.checked?"Inclusive":"Exclusive")}}const te=function(i){return{"background-color":i}};function Y(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",7),e.NdJ("change",function(d){const F=e.CHM(n).$implicit,w=e.oxw();return e.KtG(w.onFilterChange(d,F))}),e.TgZ(1,"div",11),e.ALo(2,"pokeTypeColor"),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"transloco"),e.qZA()()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,te,e.lcZ(2,3,n.resource.name))),e.xp6(2),e.hij(" ",e.lcZ(4,5,e.lcZ(5,7,"TYPE."+n.resource.name+".NAME"))," ")}}let R=(()=>{class i{constructor(n,r){this.filterService=n,this.typeService=r,this.showTypesExclusivenessToggle=!1,this.selectableTypes=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllTypes())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setTypesFilter(this.selectableTypes.filter(d=>d.active).map(d=>d.resource.name))}_subscribeToGetAllTypes(){return this.typeService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableTypes=n.map(r=>({resource:r,active:!1})),this.subscriptions.add(this._subscribeToGetTypesFilter())})}_subscribeToGetTypesFilter(){return this.filterService.getTypesFilter$().subscribe(n=>{this.selectableTypes.forEach(r=>{r.active=n.some(d=>d===r.resource.name)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(m.i),e.Y36(_.S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-types-filter"]],inputs:{showTypesExclusivenessToggle:"showTypesExclusivenessToggle"},decls:8,vars:2,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],[4,"ngIf"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"],["checkbox",""],[1,"checkbox-label","text-center"],[1,"divider","dropdown-divider"],[1,"text-white","px-1","rounded-lg","text-center","checkbox-label",3,"ngStyle"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Types "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,H,7,4,"ng-container",3),e.YNc(5,Y,6,11,"mdb-checkbox",4),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return r.filterService.setTypesFilter([])}),e._UZ(7,"i",6),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngIf",r.showTypesExclusivenessToggle),e.xp6(1),e.Q6J("ngForOf",r.selectableTypes))},dependencies:[v.sg,v.O5,v.PC,a.mT,a.b6,a.Mq,a.TO,a.bK,v.Ov,v.gd,T.Ot,K.g],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),i})(),G=(()=>{class i{constructor(n){this.filterService=n}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(m.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-clear-filter"]],decls:2,vars:0,consts:[["mdbBtn","","type","button","color","primary","mdbWavesEffect","","size","sm",1,"px-3","m-0",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.filterService.clearAllFilters()}),e._UZ(1,"i",1),e.qZA())},dependencies:[a.mT,a.b6]}),i})();var J=c(9420);function B(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(d){const F=e.CHM(n).$implicit,w=e.oxw();return e.KtG(w.onFilterChange(d,F))}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.CATEGORY."+n.resource.name+".NAME"))}}let L=(()=>{class i{constructor(n,r){this.filterService=n,this.itemCategoryService=r,this.selectableItemCategories=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemCategories())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setItemCategoryFilter(this.selectableItemCategories.filter(d=>d.active).map(d=>d.resource.name))}_subscribeToGetAllItemCategories(){return this.itemCategoryService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableItemCategories=n.map(r=>({active:!1,resource:r})),this.subscriptions.add(this._subscribeToGetItemCategoryFilter())})}_subscribeToGetItemCategoryFilter(){return this.filterService.getItemCategoryFilter$().subscribe(n=>{this.selectableItemCategories.forEach(r=>{r.active=n.includes(r.resource.name)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(m.i),e.Y36(J.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-item-category-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-2",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-2",3,"checked","change"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Categories "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,B,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.filterService.setItemCategoryFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.selectableItemCategories))},dependencies:[v.sg,a.mT,a.b6,a.Mq,a.TO,a.bK,T.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),i})();var z=c(8158);function Q(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(d){const F=e.CHM(n).$implicit,w=e.oxw();return e.KtG(w.onFilterChange(d,F))}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.POCKET."+n.resource.name+".NAME"))}}let $=(()=>{class i{constructor(n,r){this.filterService=n,this.itemPocketService=r,this.selectableItemPockets=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemPockets())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setItemPocketFilter(this.selectableItemPockets.filter(d=>d.active).map(d=>d.resource.name))}_subscribeToGetAllItemPockets(){return this.itemPocketService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableItemPockets=n.map(r=>({active:!1,resource:r})),this.subscriptions.add(this._subscribeToGetItemPocketFilter())})}_subscribeToGetItemPocketFilter(){return this.filterService.getItemPocketFilter$().subscribe(n=>{this.selectableItemPockets.forEach(r=>{r.active=n.includes(r.resource.name)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(m.i),e.Y36(z.N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-item-pocket-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Pockets "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,Q,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.filterService.setItemPocketFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.selectableItemPockets))},dependencies:[v.sg,a.mT,a.b6,a.Mq,a.TO,a.bK,T.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding:4px 4px 4px 28px}"]}),i})();function j(i,p){1&i&&e._UZ(0,"pokedex-ng-generation-filter",4)}function X(i,p){if(1&i&&e._UZ(0,"pokedex-ng-types-filter",5),2&i){const n=e.oxw();e.Q6J("showTypesExclusivenessToggle",n.showTypesExclusivenessToggle)}}function Z(i,p){1&i&&e._UZ(0,"pokedex-ng-item-pocket-filter",4)}function U(i,p){1&i&&e._UZ(0,"pokedex-ng-item-category-filter",4)}function V(i,p){1&i&&e._UZ(0,"pokedex-ng-clear-filter")}let q=(()=>{class i{constructor(){this.showTypesFilter=!1,this.showTypesExclusivenessToggle=!1,this.showGenerationFilter=!1,this.showItemPocketFilter=!1,this.showItemCategoryFilter=!1,this.showClearFilter=!0}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-filter-toolbar"]],inputs:{showTypesFilter:"showTypesFilter",showTypesExclusivenessToggle:"showTypesExclusivenessToggle",showGenerationFilter:"showGenerationFilter",showItemPocketFilter:"showItemPocketFilter",showItemCategoryFilter:"showItemCategoryFilter",showClearFilter:"showClearFilter"},decls:6,vars:5,consts:[[1,"pokemon-list-filters","d-flex","flex-wrap","align-items-center","justify-content-end","w-100","mb-1"],["class","mr-1",4,"ngIf"],["class","mr-1",3,"showTypesExclusivenessToggle",4,"ngIf"],[4,"ngIf"],[1,"mr-1"],[1,"mr-1",3,"showTypesExclusivenessToggle"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.YNc(1,j,1,0,"pokedex-ng-generation-filter",1),e.YNc(2,X,1,1,"pokedex-ng-types-filter",2),e.YNc(3,Z,1,0,"pokedex-ng-item-pocket-filter",1),e.YNc(4,U,1,0,"pokedex-ng-item-category-filter",1),e.YNc(5,V,1,0,"pokedex-ng-clear-filter",3),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",r.showGenerationFilter),e.xp6(1),e.Q6J("ngIf",r.showTypesFilter),e.xp6(1),e.Q6J("ngIf",r.showItemPocketFilter),e.xp6(1),e.Q6J("ngIf",r.showItemCategoryFilter),e.xp6(1),e.Q6J("ngIf",r.showClearFilter))},dependencies:[v.O5,h,R,G,L,$],styles:["[_nghost-%COMP%]{width:100%}"]}),i})()},9420:(W,E,c)=>{c.d(E,{F:()=>P});var e=c(160),v=c(9646),S=c(5360),x=c(8083),m=c(4650),k=c(529),O=c(5380);let P=(()=>{class a extends S.cm{constructor(h,_,T){super("item-category",h,_,T),this.http=h,this.translocoService=_,this.languageService=T}_parseAllTranslations(h){return(0,v.of)(e.Jh.ofMultipleResources(h,"names",(_,T)=>({key:T.language,object:{ITEM:{CATEGORY:{[_.name]:{NAME:T.name}}}}})))}}return a.\u0275fac=function(h){return new(h||a)(m.LFG(k.eN),m.LFG(O.Vn),m.LFG(x.T))},a.\u0275prov=m.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},8158:(W,E,c)=>{c.d(E,{N:()=>P});var e=c(160),v=c(9646),S=c(5360),x=c(8083),m=c(4650),k=c(529),O=c(5380);let P=(()=>{class a extends S.cm{constructor(h,_,T){super("item-pocket",h,_,T),this.http=h,this.translocoService=_,this.languageService=T}_parseAllTranslations(h){return(0,v.of)(e.Jh.ofMultipleResources(h,"names",(_,T)=>({key:T.language,object:{ITEM:{POCKET:{[_.name]:{NAME:T.name}}}}})))}}return a.\u0275fac=function(h){return new(h||a)(m.LFG(k.eN),m.LFG(O.Vn),m.LFG(x.T))},a.\u0275prov=m.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},7296:(W,E,c)=>{c.d(E,{Ry:()=>de,Rq:()=>ue});var e=c(4650),v=c(9646),S=c(4968),x=c(5577),m=c(4004),k=c(8505),O=c(9300),P=c(4986),a=c(4482),I=c(5403),h=c(8421);const _={leading:!0,trailing:!1};var K=c(5963);function Y(t,o,s,l){const u=window&&!!window.document&&window.document.documentElement;let f=u&&o?window:s;if(t&&(f=t&&u&&"string"==typeof t?function R(t,o,s){return(s?window.document:o).querySelector(t)}(t,s.nativeElement,l):t,!f))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return f}function G(t){return t&&!t.firstChange}const B={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},L={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class z{constructor(o=!0){this.vertical=o,this.propsMap=o?B:L}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function X(t){return["Window","global"].some(s=>Object.prototype.toString.call(t).includes(s))}function Z(t,o){return t?o.document.documentElement:null}function U(t,o){const s=function p({container:t,isWindow:o,axis:s}){const{offsetHeightKey:l,clientHeightKey:u}=i(s);return n(t,o,l,u)}(o);return o.isWindow?function V(t,o,s){const{axis:l,container:u,isWindow:f}=s,{offsetHeightKey:g,clientHeightKey:C}=i(l),b=t+d(Z(f,u),l,f),y=n(o.nativeElement,f,g,C),M=function r(t,o,s){const l=o.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[l]+d(t,o,s)}(o.nativeElement,l,f)+y;return{height:t,scrolled:b,totalToScroll:M,isWindow:f}}(s,t,o):function q(t,o,s){const{axis:l,container:u}=s;return{height:t,scrolled:u[l.scrollTopKey()],totalToScroll:u[l.scrollHeightKey()],isWindow:!1}}(s,0,o)}function i(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function n(t,o,s,l){if(isNaN(t[s])){const u=Z(o,t);return u?u[l]:0}return t[s]}function d(t,o,s){const l=o.pageYOffsetKey(),u=o.scrollTopKey(),f=o.offsetTopKey();return isNaN(window.pageYOffset)?Z(s,t)[u]:t.ownerDocument?t.ownerDocument.defaultView[l]:t[f]}function D(t,o={down:0,up:0},s){let l,u;if(t.totalToScroll<=0)return!1;const f=t.isWindow?t.scrolled:t.height+t.scrolled;return s?(l=(t.totalToScroll-f)/t.totalToScroll,u=(null!=o&&o.down?o.down:0)/10):(l=t.scrolled/(t.scrolled+(t.totalToScroll-f)),u=(null!=o&&o.up?o.up:0)/10),l<=u}class se{constructor({totalToScroll:o}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=o}updateScrollPosition(o){return this.lastScrollPosition=o}updateTotalToScroll(o){this.lastTotalToScroll!==o&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=o)}updateScroll(o,s){this.updateScrollPosition(o),this.updateTotalToScroll(s)}updateTriggeredFlag(o,s){s?this.triggered.down=o:this.triggered.up=o}isTriggeredScroll(o,s){return s?this.triggered.down===o:this.triggered.up===o}}function le(t){const{scrollContainer:o,scrollWindow:s,element:l,fromRoot:u}=t,f=function $({windowElement:t,axis:o}){return function j(t,o){const s=t.isWindow||o&&!o.nativeElement?o:o.nativeElement;return{...t,container:s}}({axis:o,isWindow:X(t)},t)}({axis:new z(!t.horizontal),windowElement:Y(o,s,l,u)}),g=new se({totalToScroll:U(l,f)}),b={up:t.upDistance,down:t.downDistance};return function ce(t){let o=(0,S.R)(t.container,"scroll");return t.throttle&&(o=o.pipe(function H(t,o=P.z,s=_){const l=(0,K.H)(t,o);return function T(t,o=_){return(0,a.e)((s,l)=>{const{leading:u,trailing:f}=o;let g=!1,C=null,b=null,y=!1;const M=()=>{b?.unsubscribe(),b=null,f&&(ne(),y&&l.complete())},ee=()=>{b=null,y&&l.complete()},oe=A=>b=(0,h.Xf)(t(A)).subscribe((0,I.x)(l,M,ee)),ne=()=>{if(g){g=!1;const A=C;C=null,l.next(A),!y&&oe(A)}};s.subscribe((0,I.x)(l,A=>{g=!0,C=A,(!b||b.closed)&&(u?ne():oe(A))},()=>{y=!0,(!(f&&g&&b)||b.closed)&&l.complete()}))})}(()=>l,s)}(t.throttle,void 0,{leading:!0,trailing:!0}))),o}({container:f.container,throttle:t.throttle}).pipe((0,x.z)(()=>(0,v.of)(U(l,f))),(0,m.U)(y=>function ae(t,o,s){const{scrollDown:l,fire:u}=function w(t,o,s){const l=function F(t,o){return t<o.scrolled}(t,o);return{fire:D(o,s,l),scrollDown:l}}(t,o,s);return{scrollDown:l,fire:u,stats:o}}(g.lastScrollPosition,y,b)),(0,k.b)(({stats:y})=>g.updateScroll(y.scrolled,y.totalToScroll)),(0,O.h)(({fire:y,scrollDown:M,stats:{totalToScroll:ee}})=>function Q(t,o,s){return!!(t&&o||!s&&o)}(t.alwaysCallback,y,g.isTriggeredScroll(ee,M))),(0,k.b)(({scrollDown:y,stats:{totalToScroll:M}})=>{g.updateTriggeredFlag(M,y)}),(0,m.U)(pe))}function pe(t){const{scrollDown:o,stats:{scrolled:s}}=t;return{type:o?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:s}}}let de=(()=>{class t{constructor(s,l){this.element=s,this.zone=l,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:s,infiniteScrollDisabled:l,infiniteScrollDistance:u}){const f=G(s),g=G(l),C=G(u),b=!g&&!this.infiniteScrollDisabled||g&&!l.currentValue||C;(f||g||C)&&(this.destroyScroller(),b&&this.setup())}setup(){(function J(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=le({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(s=>this.zone.run(()=>this.handleOnScroll(s)))})}handleOnScroll({type:s,payload:l}){switch(s){case"[NGX_ISE] DOWN":return this.scrolled.emit(l);case"[NGX_ISE] UP":return this.scrolledUp.emit(l);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(e.SBq),e.Y36(e.R0b))},t.\u0275dir=e.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),t})(),ue=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})()}}]);