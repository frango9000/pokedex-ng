"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[814],{7814:(E,u,o)=>{o.r(u),o.d(u,{MoveModule:()=>l});var p=o(6895),f=o(5380),x=o(7296),m=o(8996),M=o(1150),S=o(6719),y=o(493),A=o(5707),d=o(9450),F=o(515),b=o(262),e=o(4650);class s{constructor(t,i){this.moveService=t,this.router=i}resolve(t){return this.moveService.fetchApiOne(t?.params?.move||1).pipe((0,b.K)(()=>(this.router.navigate(["move","1"]),F.E)))}}s.\u0275fac=function(t){return new(t||s)(e.LFG(m.q),e.LFG(d.F0))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"});var C=o(727),Z=o(1135),L=o(6451),O=o(8505),U=o(3900),$=o(4004),h=o(5684),N=o(8684),Q=o(4474),J=o(8342),G=o(9919),I=o(3805),Y=o(9168);function B(n,t){1&n&&e._UZ(0,"pokedex-ng-filter-toolbar",6),2&n&&e.Q6J("showGenerationFilter",!0)("showTypesFilter",!0)}function z(n,t){if(1&n&&(e.TgZ(0,"tr")(1,"td",12),e._UZ(2,"pokedex-ng-move-detail",13),e.qZA()()),2&n){const i=e.oxw().$implicit;e.xp6(2),e.Q6J("moveId",i.id)}}function D(n,t){if(1&n){const i=e.EpF();e.ynx(0),e.TgZ(1,"tr",7),e.NdJ("click",function(){const v=e.CHM(i).$implicit,g=e.oxw();return e.KtG(g.expandedMove=g.expandedMove===v.id.toString()||g.expandedMove===v.name?"":v.name)}),e.TgZ(2,"td",8),e._uU(3),e.qZA(),e.TgZ(4,"td",8),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"td",8),e._uU(8),e.qZA(),e.TgZ(9,"td",8)(10,"div",9),e._UZ(11,"pokedex-ng-type-pill",10),e.qZA()(),e.TgZ(12,"td",8),e._uU(13),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.qZA(),e.TgZ(16,"td",8),e._uU(17),e.qZA()(),e.YNc(18,z,3,1,"tr",11),e.BQk()}if(2&n){const i=t.$implicit,c=e.oxw();e.xp6(3),e.Oqu(i.id),e.xp6(2),e.Oqu(e.lcZ(6,10,"MOVE."+i.name+".NAME")),e.xp6(3),e.Oqu(i.generation),e.xp6(3),e.Q6J("type",i.type)("clickable",!1)("size",12),e.xp6(2),e.Oqu(i.power),e.xp6(2),e.Oqu(i.pp),e.xp6(2),e.Oqu(i.accuracy),e.xp6(1),e.Q6J("ngIf",c.expandedMove===i.id.toString()||c.expandedMove===i.name)}}class r{constructor(t,i,c,T,v){this.moveService=t,this.filterService=i,this.languageService=c,this.appNavbarService=T,this.route=v,this.subscriptions=new C.w0,this._moves$=new Z.X([]),this._filterChange$=new Z.X(!0),this.expandedMove="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(t=>{this.expandedMove=t?.move?.name||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showSearchBar(),this.appNavbarService.showFiltersButton()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getMoves$(){return this._moves$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe((0,O.b)(t=>t?this.offset=this.increment:this.offset+=this.increment),(0,U.w)(()=>this.moveService.getAllFiltered()),(0,$.U)(t=>t.slice(0,this.offset))).subscribe(t=>this._moves$.next(t))}_filterChangesSubscription(){return(0,L.T)(this.filterService.getQueryFilter$().pipe((0,h.T)(1)),this.filterService.getTypesFilter$().pipe((0,h.T)(1)),this.filterService.getGenerationFilter$().pipe((0,h.T)(1)),this.languageService.getDisplayLanguage$().pipe((0,h.T)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}r.\u0275fac=function(t){return new(t||r)(e.Y36(m.q),e.Y36(Q.i),e.Y36(J.T),e.Y36(N.t),e.Y36(d.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-move-list"]],decls:24,vars:8,consts:[[1,"move-table-container","w-100","d-flex","flex-column","align-items-center"],["class","move-table",3,"showGenerationFilter","showTypesFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","move-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Move Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"move-table",3,"showGenerationFilter","showTypesFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"p-1"],[3,"type","clickable","size"],[4,"ngIf"],["colspan","7"],[3,"moveId"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,B,1,2,"pokedex-ng-filter-toolbar",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e.NdJ("scrolled",function(){return i.renderMore()}),e.TgZ(4,"table",3)(5,"thead")(6,"tr")(7,"th",4),e._uU(8,"Id"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Gen"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Type"),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"Power"),e.qZA(),e.TgZ(17,"th",4),e._uU(18,"PP"),e.qZA(),e.TgZ(19,"th",4),e._uU(20,"Accuracy"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,D,19,12,"ng-container",5),e.ALo(23,"async"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,i.appNavbarService.getShowFilters$())),e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",150),e.xp6(19),e.Q6J("ngForOf",e.lcZ(23,6,i.getMoves$())))},dependencies:[p.sg,p.O5,G.Q,I.Q,x.Ry,Y.D,p.Ov,f.Ot],styles:[".move-table[_ngcontent-%COMP%]{max-width:1000px}"]});const R=[{path:"",component:r},{path:":move",component:r,resolve:{move:s}}];class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[d.Bz.forChild(R),d.Bz]});class l{constructor(t,i){this.moveService=t,this.typeService=i}}l.\u0275fac=function(t){return new(t||l)(e.LFG(m.q),e.LFG(M.S))},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[p.ez,a,A.l,S.m,x.Rq,f.y4,y.Q]})}}]);