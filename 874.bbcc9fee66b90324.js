"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[874],{3805:(W,E,c)=>{c.d(E,{Q:()=>V});var e=c(5e3),h=c(9808),_=c(727),y=c(5698),f=c(4474),F=c(9716),k=c(520);let S=(()=>{class r extends F.bQ{constructor(t){super("generation",t),this.http=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(k.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var l=c(1393);function P(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(p){const x=e.CHM(t).$implicit;return e.oxw().onFilterChange(p,x)}),e._uU(1),e.qZA()}if(2&r){const t=d.$implicit;e.Q6J("checked",t.active),e.xp6(1),e.hij("Generation ",t.resource.id,"")}}let m=(()=>{class r{constructor(t,i){this.filterService=t,this.generationService=i,this.selectableGenerations=[],this.subscriptions=new _.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllGenerations())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(t,i){i.active=t.checked,this.filterService.setGenerationFilter(this.selectableGenerations.filter(p=>p.active).map(p=>p.resource.id))}_subscribeToGetAllGenerations(){return this.generationService.getAll().pipe((0,y.q)(1)).subscribe(t=>{this.selectableGenerations=t.map(i=>({active:!1,resource:i})),this.subscriptions.add(this._subscribeToGetGenerationFilter())})}_subscribeToGetGenerationFilter(){return this.filterService.getGenerationFilter$().subscribe(t=>{this.selectableGenerations.forEach(i=>{i.active=t.includes(i.resource.id)})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.i),e.Y36(S))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-generation-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e._uU(2," Generations "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,P,2,2,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.filterService.setGenerationFilter([])}),e._UZ(6,"i",5),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.selectableGenerations))},directives:[l.TO,l.Mq,l.mT,l.b6,h.sg,l.bK],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),r})();var v=c(1150),b=c(2395),O=c(2546);function R(r,d){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"mdb-checkbox",7,8),e.NdJ("change",function(p){return e.CHM(t),e.oxw().filterService.setTypesFilterInclusiveness(p.checked)}),e.ALo(3,"async"),e.TgZ(4,"div",9),e._uU(5),e.qZA(),e.qZA(),e._UZ(6,"div",10),e.BQk()}if(2&r){const t=e.MAs(2),i=e.oxw();e.xp6(1),e.Q6J("checked",e.lcZ(3,2,i.filterService.getTypesFilterInclusiveness$())),e.xp6(4),e.Oqu(t.checked?"Inclusive":"Exclusive")}}const N=function(r){return{"background-color":r}};function L(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"mdb-checkbox",7),e.NdJ("change",function(p){const x=e.CHM(t).$implicit;return e.oxw().onFilterChange(p,x)}),e.TgZ(1,"div",11),e.ALo(2,"pokeTypeColor"),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"transloco"),e.qZA(),e.qZA()}if(2&r){const t=d.$implicit;e.Q6J("checked",t.active),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,N,e.lcZ(2,3,t.resource.name))),e.xp6(2),e.hij(" ",e.lcZ(4,5,e.lcZ(5,7,"TYPE."+t.resource.name+".NAME"))," ")}}let Y=(()=>{class r{constructor(t,i){this.filterService=t,this.typeService=i,this.showTypesExclusivenessToggle=!1,this.selectableTypes=[],this.subscriptions=new _.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllTypes())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(t,i){i.active=t.checked,this.filterService.setTypesFilter(this.selectableTypes.filter(p=>p.active).map(p=>p.resource.name))}_subscribeToGetAllTypes(){return this.typeService.getAll().pipe((0,y.q)(1)).subscribe(t=>{this.selectableTypes=t.map(i=>({resource:i,active:!1})),this.subscriptions.add(this._subscribeToGetTypesFilter())})}_subscribeToGetTypesFilter(){return this.filterService.getTypesFilter$().subscribe(t=>{this.selectableTypes.forEach(i=>{i.active=t.some(p=>p===i.resource.name)})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.i),e.Y36(v.S))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-types-filter"]],inputs:{showTypesExclusivenessToggle:"showTypesExclusivenessToggle"},decls:8,vars:2,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],[4,"ngIf"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"],["checkbox",""],[1,"checkbox-label","text-center"],[1,"divider","dropdown-divider"],[1,"text-white","px-1","rounded-lg","text-center","checkbox-label",3,"ngStyle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e._uU(2," Types "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,R,7,4,"ng-container",3),e.YNc(5,L,6,11,"mdb-checkbox",4),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.filterService.setTypesFilter([])}),e._UZ(7,"i",6),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.showTypesExclusivenessToggle),e.xp6(1),e.Q6J("ngForOf",i.selectableTypes))},directives:[l.TO,l.Mq,l.mT,l.b6,h.O5,h.sg,l.bK,h.PC],pipes:[h.Ov,b.g,h.gd,O.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),r})();var H=c(3735);function D(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(p){const x=e.CHM(t).$implicit;return e.oxw().onFilterChange(p,x)}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&r){const t=d.$implicit;e.Q6J("checked",t.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.POCKET."+t.resource.name+".NAME"))}}let U=(()=>{class r{constructor(t,i){this.filterService=t,this.itemPocketService=i,this.selectableItemPockets=[],this.subscriptions=new _.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemPockets())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(t,i){i.active=t.checked,this.filterService.setItemPocketFilter(this.selectableItemPockets.filter(p=>p.active).map(p=>p.resource.name))}_subscribeToGetAllItemPockets(){return this.itemPocketService.getAll().pipe((0,y.q)(1)).subscribe(t=>{this.selectableItemPockets=t.map(i=>({active:!1,resource:i})),this.subscriptions.add(this._subscribeToGetItemPocketFilter())})}_subscribeToGetItemPocketFilter(){return this.filterService.getItemPocketFilter$().subscribe(t=>{this.selectableItemPockets.forEach(i=>{i.active=t.includes(i.resource.name)})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.i),e.Y36(H.N))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-item-pocket-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e._uU(2," Pockets "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,D,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.filterService.setItemPocketFilter([])}),e._UZ(6,"i",5),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.selectableItemPockets))},directives:[l.TO,l.Mq,l.mT,l.b6,h.sg,l.bK],pipes:[O.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding:4px 4px 4px 28px}"]}),r})();var J=c(2839);function z(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(p){const x=e.CHM(t).$implicit;return e.oxw().onFilterChange(p,x)}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&r){const t=d.$implicit;e.Q6J("checked",t.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.CATEGORY."+t.resource.name+".NAME"))}}let G=(()=>{class r{constructor(t,i){this.filterService=t,this.itemCategoryService=i,this.selectableItemCategories=[],this.subscriptions=new _.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemCategories())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(t,i){i.active=t.checked,this.filterService.setItemCategoryFilter(this.selectableItemCategories.filter(p=>p.active).map(p=>p.resource.name))}_subscribeToGetAllItemCategories(){return this.itemCategoryService.getAll().pipe((0,y.q)(1)).subscribe(t=>{this.selectableItemCategories=t.map(i=>({active:!1,resource:i})),this.subscriptions.add(this._subscribeToGetItemCategoryFilter())})}_subscribeToGetItemCategoryFilter(){return this.filterService.getItemCategoryFilter$().subscribe(t=>{this.selectableItemCategories.forEach(i=>{i.active=t.includes(i.resource.name)})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.i),e.Y36(J.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-item-category-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-2",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-2",3,"checked","change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e._uU(2," Categories "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,z,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.filterService.setItemCategoryFilter([])}),e._UZ(6,"i",5),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.selectableItemCategories))},directives:[l.TO,l.Mq,l.mT,l.b6,h.sg,l.bK],pipes:[O.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),r})(),Q=(()=>{class r{constructor(t){this.filterService=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-clear-filter"]],decls:2,vars:0,consts:[["mdbBtn","","type","button","color","primary","mdbWavesEffect","","size","sm",1,"px-3","m-0",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.filterService.clearAllFilters()}),e._UZ(1,"i",1),e.qZA())},directives:[l.mT,l.b6],styles:[""]}),r})();function K(r,d){1&r&&e._UZ(0,"pokedex-ng-generation-filter",4)}function j(r,d){if(1&r&&e._UZ(0,"pokedex-ng-types-filter",5),2&r){const t=e.oxw();e.Q6J("showTypesExclusivenessToggle",t.showTypesExclusivenessToggle)}}function B(r,d){1&r&&e._UZ(0,"pokedex-ng-item-pocket-filter",4)}function $(r,d){1&r&&e._UZ(0,"pokedex-ng-item-category-filter",4)}function X(r,d){1&r&&e._UZ(0,"pokedex-ng-clear-filter")}let V=(()=>{class r{constructor(){this.showTypesFilter=!1,this.showTypesExclusivenessToggle=!1,this.showGenerationFilter=!1,this.showItemPocketFilter=!1,this.showItemCategoryFilter=!1,this.showClearFilter=!0}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-filter-toolbar"]],inputs:{showTypesFilter:"showTypesFilter",showTypesExclusivenessToggle:"showTypesExclusivenessToggle",showGenerationFilter:"showGenerationFilter",showItemPocketFilter:"showItemPocketFilter",showItemCategoryFilter:"showItemCategoryFilter",showClearFilter:"showClearFilter"},decls:6,vars:5,consts:[[1,"pokemon-list-filters","d-flex","flex-wrap","align-items-center","justify-content-end","w-100","mb-1"],["class","mr-1",4,"ngIf"],["class","mr-1",3,"showTypesExclusivenessToggle",4,"ngIf"],[4,"ngIf"],[1,"mr-1"],[1,"mr-1",3,"showTypesExclusivenessToggle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,K,1,0,"pokedex-ng-generation-filter",1),e.YNc(2,j,1,1,"pokedex-ng-types-filter",2),e.YNc(3,B,1,0,"pokedex-ng-item-pocket-filter",1),e.YNc(4,$,1,0,"pokedex-ng-item-category-filter",1),e.YNc(5,X,1,0,"pokedex-ng-clear-filter",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.showGenerationFilter),e.xp6(1),e.Q6J("ngIf",i.showTypesFilter),e.xp6(1),e.Q6J("ngIf",i.showItemPocketFilter),e.xp6(1),e.Q6J("ngIf",i.showItemCategoryFilter),e.xp6(1),e.Q6J("ngIf",i.showClearFilter))},directives:[h.O5,m,Y,U,G,Q],styles:["[_nghost-%COMP%]{width:100%}"]}),r})()},2395:(W,E,c)=>{c.d(E,{g:()=>h});var e=c(5e3);let h=(()=>{class _{transform(f){switch(f){case"normal":return"#9C9C63";case"fighting":return"#AE2A24";case"flying":return"#8E6FEB";case"poison":return"#923A92";case"ground":return"#DBB54D";case"rock":return"#A48F32";case"bug":return"#97A51D";case"ghost":return"#644E88";case"steel":return"#A0A0C0";case"fire":return"#ED6D12";case"water":return"#4578ED";case"grass":return"#69C23D";case"electric":return"#F6C913";case"psychic":return"#F73670";case"ice":return"#7ECECE";case"dragon":return"#5D1EF7";case"dark":return"#644e40";case"fairy":return"#E87890";case"unknown":return"#888";case"shadow":return"#444";default:return"#000"}}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275pipe=e.Yjl({name:"pokeTypeColor",type:_,pure:!0}),_})()},2839:(W,E,c)=>{c.d(E,{F:()=>S});var e=c(3530),h=c(9646),_=c(9716),y=c(8342),f=c(5e3),F=c(520),k=c(2546);let S=(()=>{class l extends _.cm{constructor(m,v,b){super("item-category",m,v,b),this.http=m,this.translocoService=v,this.languageService=b}_parseAllTranslations(m){return(0,h.of)(e.Jh.ofMultipleResources(m,"names",(v,b)=>({key:b.language,object:{ITEM:{CATEGORY:{[v.name]:{NAME:b.name}}}}})))}}return l.\u0275fac=function(m){return new(m||l)(f.LFG(F.eN),f.LFG(k.Vn),f.LFG(y.T))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},3735:(W,E,c)=>{c.d(E,{N:()=>S});var e=c(3530),h=c(9646),_=c(9716),y=c(8342),f=c(5e3),F=c(520),k=c(2546);let S=(()=>{class l extends _.cm{constructor(m,v,b){super("item-pocket",m,v,b),this.http=m,this.translocoService=v,this.languageService=b}_parseAllTranslations(m){return(0,h.of)(e.Jh.ofMultipleResources(m,"names",(v,b)=>({key:b.language,object:{ITEM:{POCKET:{[v.name]:{NAME:b.name}}}}})))}}return l.\u0275fac=function(m){return new(m||l)(f.LFG(F.eN),f.LFG(k.Vn),f.LFG(y.T))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},8624:(W,E,c)=>{c.d(E,{R:()=>x,X:()=>M});var e=c(5e3),h=c(9646),_=c(4968),y=c(5577),f=c(4004),F=c(8505),k=c(9300),S=c(9468);function l(o,n,s,a){const u=window&&!!window.document&&window.document.documentElement;let g=u&&n?window:s;if(o&&(g=o&&u&&"string"==typeof o?function(o,n,s){return(s?window.document:n).querySelector(o)}(o,s.nativeElement,a):o,!g))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return g}function m(o){return o&&!o.firstChange}const b={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},O={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class R{constructor(n=!0){this.vertical=n,this.propsMap=n?b:O}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function H(o){return["Window","global"].some(s=>Object.prototype.toString.call(o).includes(s))}function D(o,n){return o?n.document.documentElement:null}function U(o,n){const s=function({container:o,isWindow:n,axis:s}){const{offsetHeightKey:a,clientHeightKey:u}=G(s);return K(o,n,a,u)}(n);return n.isWindow?function(o,n,s){const{axis:a,container:u,isWindow:g}=s,{offsetHeightKey:T,clientHeightKey:w}=G(a),A=o+B(D(g,u),a,g),C=K(n.nativeElement,g,T,w),Z=function(o,n,s){const a=n.topKey();if(o.getBoundingClientRect)return o.getBoundingClientRect()[a]+B(o,n,s)}(n.nativeElement,a,g)+C;return{height:o,scrolled:A,totalToScroll:Z,isWindow:g}}(s,o,n):function(o,n,s){const{axis:a,container:u}=s;return{height:o,scrolled:u[a.scrollTopKey()],totalToScroll:u[a.scrollHeightKey()],isWindow:!1}}(s,0,n)}function G(o){return{offsetHeightKey:o.offsetHeightKey(),clientHeightKey:o.clientHeightKey()}}function K(o,n,s,a){if(isNaN(o[s])){const u=D(n,o);return u?u[a]:0}return o[s]}function B(o,n,s){const a=n.pageYOffsetKey(),u=n.scrollTopKey(),g=n.offsetTopKey();return isNaN(window.pageYOffset)?D(s,o)[u]:o.ownerDocument?o.ownerDocument.defaultView[a]:o[g]}function $(o,n,s){let a,u;if(o.totalToScroll<=0)return!1;const g=o.isWindow?o.scrolled:o.height+o.scrolled;return s?(a=(o.totalToScroll-g)/o.totalToScroll,u=n.down/10):(a=o.scrolled/(o.scrolled+(o.totalToScroll-g)),u=n.up/10),a<=u}class r{constructor({totalToScroll:n}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=n}updateScrollPosition(n){return this.lastScrollPosition=n}updateTotalToScroll(n){this.lastTotalToScroll!==n&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=n)}updateScroll(n,s){this.updateScrollPosition(n),this.updateTotalToScroll(s)}updateTriggeredFlag(n,s){s?this.triggered.down=n:this.triggered.up=n}isTriggeredScroll(n,s){return s?this.triggered.down===n:this.triggered.up===n}}function d(o){const{scrollContainer:n,scrollWindow:s,element:a,fromRoot:u}=o,g=function({windowElement:o,axis:n}){return function(o,n){const s=o.isWindow||n&&!n.nativeElement?n:n.nativeElement;return Object.assign(Object.assign({},o),{container:s})}({axis:n,isWindow:H(o)},o)}({axis:new R(!o.horizontal),windowElement:l(n,s,a,u)}),T=new r({totalToScroll:U(a,g)}),A={up:o.upDistance,down:o.downDistance};return function(o){let n=(0,_.R)(o.container,"scroll");return o.throttle&&(n=n.pipe((0,S.p)(o.throttle))),n}({container:g.container,throttle:o.throttle}).pipe((0,y.z)(()=>(0,h.of)(U(a,g))),(0,f.U)(C=>function(o,n,s){const{scrollDown:a,fire:u}=function(o,n,s){const a=function(o,n){return o<n.scrolled}(o,n);return{fire:$(n,s,a),scrollDown:a}}(o,n,s);return{scrollDown:a,fire:u,stats:n}}(T.lastScrollPosition,C,A)),(0,F.b)(({stats:C})=>T.updateScroll(C.scrolled,C.totalToScroll)),(0,k.h)(({fire:C,scrollDown:Z,stats:{totalToScroll:q}})=>function(o,n,s){return!!(o&&n||!s&&n)}(o.alwaysCallback,C,T.isTriggeredScroll(q,Z))),(0,F.b)(({scrollDown:C,stats:{totalToScroll:Z}})=>{T.updateTriggeredFlag(Z,C)}),(0,f.U)(I))}function I(o){const{scrollDown:n,stats:{scrolled:s}}=o;return{type:n?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:s}}}let x=(()=>{class o{constructor(s,a){this.element=s,this.zone=a,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:s,infiniteScrollDisabled:a,infiniteScrollDistance:u}){const g=m(s),T=m(a),w=m(u),A=!T&&!this.infiniteScrollDisabled||T&&!a.currentValue||w;(g||T||w)&&(this.destroyScroller(),A&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=d({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(s=>this.zone.run(()=>this.handleOnScroll(s)))})}handleOnScroll({type:s,payload:a}){switch(s){case"[NGX_ISE] DOWN":return this.scrolled.emit(a);case"[NGX_ISE] UP":return this.scrolledUp.emit(a);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return o.\u0275fac=function(s){return new(s||o)(e.Y36(e.SBq),e.Y36(e.R0b))},o.\u0275dir=e.lG2({type:o,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[],imports:[[]]}),o})()}}]);