(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{iRpH:function(e,t,i){"use strict";i.r(t),i.d(t,"ItemModule",function(){return X});var c=i("ofXK"),r=i("tyNb"),n=i("quSY"),s=i("2Vo4"),a=i("VRyK"),b=i("IQ7W"),o=i("Sirz"),l=i("j3wI"),d=i("+sMI"),p=i("vkgz"),m=i("eIep"),T=i("lJxs"),h=i("zP0r"),u=i("fXoL"),S=i("dlKe"),I=i("ko4R"),f=i("cp0P"),g=i("LRne"),v=i("aMbW"),E=i("2CaP"),F=i("tk/3"),A=i("sYmb");let O=(()=>{class e extends v.d{constructor(e,t,i){super("item-attribute",e,t,i),this.http=e,this.translateService=t,this.languageService=i}_parseOneTranslation(e){return Object(g.a)(E.a.mergeMaps([E.a.ofSingleResource(e.names,t=>({key:t.language.name,object:{ITEM:{ATTRIBUTE:{[e.name]:{NAME:t.name}}}}})),E.a.ofSingleResource(e.descriptions,t=>({key:t.language.name,object:{ITEM:{ATTRIBUTE:{[e.name]:{DESCRIPTION:t.description}}}}}))]))}}return e.\u0275fac=function(t){return new(t||e)(u.Xb(F.b),u.Xb(A.d),u.Xb(l.a))},e.\u0275prov=u.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=i("X3/O");function y(e,t){if(1&e&&(u.Tb(0,"tr"),u.Tb(1,"td"),u.Fc(2),u.dc(3,"translate"),u.Sb(),u.Tb(4,"td"),u.Fc(5),u.dc(6,"translate"),u.Sb(),u.Sb()),2&e){const e=t.$implicit;u.Ab(2),u.Gc(u.ec(3,2,"ITEM.ATTRIBUTE."+e.name+".NAME")),u.Ab(3),u.Gc(u.ec(6,4,"ITEM.ATTRIBUTE."+e.name+".DESCRIPTION"))}}function w(e,t){if(1&e&&(u.Tb(0,"table",3),u.Tb(1,"tbody"),u.Tb(2,"tr",4),u.Tb(3,"td"),u.Fc(4),u.dc(5,"translate"),u.Sb(),u.Tb(6,"td"),u.Fc(7),u.dc(8,"translate"),u.Sb(),u.Sb(),u.Tb(9,"tr"),u.Tb(10,"td"),u.Fc(11),u.dc(12,"translate"),u.Sb(),u.Tb(13,"td"),u.Fc(14),u.Sb(),u.Sb(),u.Tb(15,"tr"),u.Tb(16,"td"),u.Fc(17),u.dc(18,"translate"),u.Sb(),u.Tb(19,"td"),u.Fc(20),u.dc(21,"translate"),u.Sb(),u.Sb(),u.Dc(22,y,7,6,"tr",5),u.Tb(23,"tr",6),u.dc(24,"translate"),u.Tb(25,"td"),u.Fc(26),u.dc(27,"translate"),u.Sb(),u.Tb(28,"td"),u.Fc(29),u.dc(30,"async"),u.dc(31,"withVersionGroup"),u.Sb(),u.Sb(),u.Tb(32,"tr",6),u.dc(33,"translate"),u.Tb(34,"td"),u.Fc(35),u.dc(36,"translate"),u.Sb(),u.Tb(37,"td"),u.Fc(38),u.dc(39,"translate"),u.Sb(),u.Sb(),u.Tb(40,"tr",6),u.dc(41,"translate"),u.Tb(42,"td"),u.Fc(43),u.dc(44,"translate"),u.Sb(),u.Tb(45,"td"),u.Fc(46),u.dc(47,"translate"),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&e){const e=u.cc();u.Ab(4),u.Gc(u.ec(5,16,"UI.ITEM.NAME")),u.Ab(3),u.Gc(u.ec(8,18,"ITEM."+e.item.name+".NAME")),u.Ab(4),u.Gc(u.ec(12,20,"UI.ITEM.COST")),u.Ab(3),u.Gc(e.item.cost),u.Ab(3),u.Gc(u.ec(18,22,"UI.ITEM.CATEGORY")),u.Ab(3),u.Gc(u.ec(21,24,"ITEM.CATEGORY."+e.item.category.name+".NAME")),u.Ab(2),u.jc("ngForOf",e.item.attributes),u.Ab(1),u.kc("title",u.ec(24,26,"UI.ITEM.DESCRIPTION_TITLE")),u.Ab(3),u.Gc(u.ec(27,28,"UI.ITEM.DESCRIPTION")),u.Ab(3),u.Hc(" ",u.ec(30,30,u.ec(31,32,"ITEM."+e.item.name+".FLAVOR_TEXT."))," "),u.Ab(3),u.kc("title",u.ec(33,34,"UI.ITEM.EFFECT_TITLE")),u.Ab(3),u.Gc(u.ec(36,36,"UI.ITEM.EFFECT")),u.Ab(3),u.Hc(" ",u.ec(39,38,"ITEM."+e.item.name+".EFFECT_ENTRY.EFFECT")," "),u.Ab(2),u.kc("title",u.ec(41,40,"UI.ITEM.EFFECT_TITLE")),u.Ab(3),u.Gc(u.ec(44,42,"UI.ITEM.EFFECT_SHORT")),u.Ab(3),u.Hc(" ",u.ec(47,44,"ITEM."+e.item.name+".EFFECT_ENTRY.SHORT")," ")}}function C(e,t){1&e&&(u.Tb(0,"div",7),u.Tb(1,"div",8),u.Tb(2,"span",9),u.Fc(3),u.dc(4,"translate"),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.Ab(3),u.Gc(u.ec(4,1,"LOADING")))}let k=(()=>{class e{constructor(e,t){this.itemService=e,this.itemAttributeService=t,this.subscriptions=new n.a}ngOnInit(){this.subscriptions.add(this._subscribeToFetchTranslations())}ngOnDestroy(){this.subscriptions.unsubscribe()}_subscribeToFetchTranslations(){return this.itemService.fetchApiOne(this.itemId).pipe(Object(m.a)(e=>Object(f.a)([...e.attributes.map(e=>this.itemAttributeService.fetchApiOne(e.name)),Object(g.a)({})]).pipe(Object(T.a)(()=>e)))).subscribe(e=>this.item=e)}}return e.\u0275fac=function(t){return new(t||e)(u.Ob(b.a),u.Ob(O))},e.\u0275cmp=u.Ib({type:e,selectors:[["pokedex-ng-item-detail"]],inputs:{itemId:"itemId"},decls:4,vars:2,consts:[[1,"card","p-1"],["class","table mb-0","aria-describedby","Table of Move Details","aria-hidden","true",4,"ngIf","ngIfElse"],["loading",""],["aria-describedby","Table of Move Details","aria-hidden","true",1,"table","mb-0"],[1,"first-row-border-0"],[4,"ngFor","ngForOf"],[3,"title"],[1,"text-center"],["role","status",1,"spinner-border","m-4",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(e,t){if(1&e&&(u.Tb(0,"div",0),u.Dc(1,w,48,46,"table",1),u.Dc(2,C,5,3,"ng-template",null,2,u.Ec),u.Sb()),2&e){const e=u.uc(3);u.Ab(1),u.jc("ngIf",t.item)("ngIfElse",e)}},directives:[c.k,c.j],pipes:[A.c,c.b,M.a],styles:[".first-row-border-0[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}"]}),e})();function j(e,t){1&e&&u.Pb(0,"pokedex-ng-filter-toolbar",6),2&e&&u.jc("showItemPocketFilter",!0)("showItemCategoryFilter",!0)}function x(e,t){if(1&e&&(u.Tb(0,"tr"),u.Tb(1,"td",12),u.Pb(2,"pokedex-ng-item-detail",13),u.Sb(),u.Sb()),2&e){const e=u.cc().$implicit;u.Ab(2),u.jc("itemId",e.id)}}function G(e,t){if(1&e){const e=u.Ub();u.Rb(0),u.Tb(1,"tr",7),u.ac("click",function(){u.xc(e);const i=t.$implicit,c=u.cc();return c.expandedItem=c.expandedItem===i.id.toString()||c.expandedItem===i.name?"":i.name}),u.Tb(2,"td",8),u.Fc(3),u.Sb(),u.Tb(4,"td",9),u.Pb(5,"img",10),u.Sb(),u.Tb(6,"td",8),u.Fc(7),u.dc(8,"translate"),u.Sb(),u.Tb(9,"td",8),u.Fc(10),u.Sb(),u.Tb(11,"td",8),u.Fc(12),u.dc(13,"translate"),u.Sb(),u.Tb(14,"td",8),u.Fc(15),u.dc(16,"translate"),u.Sb(),u.Sb(),u.Dc(17,x,3,1,"tr",11),u.Qb()}if(2&e){const e=t.$implicit,i=u.cc();u.Ab(3),u.Gc(e.id),u.Ab(2),u.lc("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/",e.sprite,"",u.yc),u.kc("alt",e.sprite),u.Ab(2),u.Gc(u.ec(8,8,"ITEM."+e.name+".NAME")),u.Ab(3),u.Gc(e.cost),u.Ab(2),u.Gc(u.ec(13,10,"ITEM.CATEGORY."+e.category+".NAME")),u.Ab(3),u.Gc(u.ec(16,12,"ITEM.POCKET."+e.pocket+".NAME")),u.Ab(2),u.jc("ngIf",i.expandedItem===e.id.toString()||i.expandedItem===e.name)}}let _=(()=>{class e{constructor(e,t,i,c,r){this.itemService=e,this.filterService=t,this.languageService=i,this.appNavbarService=c,this.route=r,this.subscriptions=new n.a,this._items$=new s.a([]),this._filterChange$=new s.a(!0),this.expandedItem="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(e=>{var t;this.expandedItem=(null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.name)||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showSearchBar(),this.appNavbarService.showFiltersButton(),this.appNavbarService.showVersionGroupPicker()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getItems$(){return this._items$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe(Object(p.a)(e=>e?this.offset=this.increment:this.offset+=this.increment),Object(m.a)(()=>this.itemService.getAllFiltered()),Object(T.a)(e=>e.slice(0,this.offset))).subscribe(e=>this._items$.next(e))}_filterChangesSubscription(){return Object(a.a)(this.filterService.getQueryFilter$().pipe(Object(h.a)(1)),this.filterService.getItemPocketFilter$().pipe(Object(h.a)(1)),this.filterService.getItemCategoryFilter$().pipe(Object(h.a)(1)),this.languageService.getDisplayLanguage$().pipe(Object(h.a)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return e.\u0275fac=function(t){return new(t||e)(u.Ob(b.a),u.Ob(o.a),u.Ob(l.a),u.Ob(d.a),u.Ob(r.a))},e.\u0275cmp=u.Ib({type:e,selectors:[["pokedex-ng-item-list"]],decls:22,vars:8,consts:[[1,"item-table-container","w-100","d-flex","flex-column","align-items-center"],["class","item-table",3,"showItemPocketFilter","showItemCategoryFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","item-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Item Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"item-table",3,"showItemPocketFilter","showItemCategoryFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"align-middle","py-0"],["height","40px",1,"py-0",3,"src","alt"],[4,"ngIf"],["colspan","6"],[3,"itemId"]],template:function(e,t){1&e&&(u.Tb(0,"div",0),u.Dc(1,j,1,2,"pokedex-ng-filter-toolbar",1),u.dc(2,"async"),u.Tb(3,"div",2),u.ac("scrolled",function(){return t.renderMore()}),u.Tb(4,"table",3),u.Tb(5,"thead"),u.Tb(6,"tr"),u.Tb(7,"th",4),u.Fc(8,"Id"),u.Sb(),u.Tb(9,"th",4),u.Fc(10,"Image"),u.Sb(),u.Tb(11,"th",4),u.Fc(12,"Name"),u.Sb(),u.Tb(13,"th",4),u.Fc(14,"Cost"),u.Sb(),u.Tb(15,"th",4),u.Fc(16,"Category"),u.Sb(),u.Tb(17,"th",4),u.Fc(18,"Pocket"),u.Sb(),u.Sb(),u.Sb(),u.Tb(19,"tbody"),u.Dc(20,G,18,14,"ng-container",5),u.dc(21,"async"),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.Ab(1),u.jc("ngIf",u.ec(2,4,t.appNavbarService.getShowFilters$())),u.Ab(2),u.jc("infiniteScrollDistance",2)("infiniteScrollThrottle",150),u.Ab(17),u.jc("ngForOf",u.ec(21,6,t.getItems$())))},directives:[c.k,S.a,c.j,I.a,k],pipes:[c.b,A.c],styles:[".item-table[_ngcontent-%COMP%]{max-width:1000px}"]}),e})();var N=i("EY2u"),P=i("JIr8");const R=[{path:"",component:_},{path:":item",component:_,resolve:{item:(()=>{class e{constructor(e,t){this.itemService=e,this.router=t}resolve(e){var t;return this.itemService.fetchApiOne((null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.item)||1).pipe(Object(P.a)(()=>(this.router.navigate(["item","1"]),N.a)))}}return e.\u0275fac=function(t){return new(t||e)(u.Xb(b.a),u.Xb(r.b))},e.\u0275prov=u.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}];let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Mb({type:e}),e.\u0275inj=u.Lb({imports:[[r.e.forChild(R)],r.e]}),e})();var $=i("+jFU"),U=i("GDTH"),L=i("awmS");let X=(()=>{class e{constructor(e,t,i){this.itemService=e,this.itemCategoryService=t,this.itemPocketService=i}}return e.\u0275fac=function(t){return new(t||e)(u.Xb(b.a),u.Xb(U.a),u.Xb(L.a))},e.\u0275mod=u.Mb({type:e}),e.\u0275inj=u.Lb({imports:[[c.c,D,S.b,$.a]]}),e})()}}]);