(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{b64a:function(e,t,i){"use strict";i.r(t),i.d(t,"MachineModule",function(){return X});var r=i("ofXK"),c=i("tyNb"),n=i("quSY"),a=i("2Vo4"),s=i("VRyK"),o=i("aMbW"),b=i("lJxs"),l=i("Sirz"),h=i("gOMg"),p=i("fXoL"),d=i("tk/3");let u=(()=>{class e extends o.a{constructor(e,t,i){super("machine",e),this.http=e,this.filterService=t,this.versionGroupService=i}getAllFiltered(){return this.getAll().pipe(Object(b.a)(e=>this.versionGroupService.filterByVersionGroup(e)),Object(b.a)(e=>this.filterService.filterByChildType(e,"move")))}}return e.\u0275fac=function(t){return new(t||e)(p.Xb(d.b),p.Xb(l.a),p.Xb(h.a))},e.\u0275prov=p.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=i("+sMI"),m=i("vkgz"),v=i("eIep"),S=i("zP0r"),g=i("dlKe"),T=i("ko4R");let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Ib({type:e,selectors:[["pokedex-ng-machine-detail"]],inputs:{machineId:"machineId"},decls:2,vars:0,template:function(e,t){1&e&&(p.Tb(0,"p"),p.Fc(1,"machine-detail works!"),p.Sb())},styles:[""]}),e})();var F=i("sYmb"),O=i("6lIh");function A(e,t){1&e&&p.Pb(0,"pokedex-ng-filter-toolbar",6),2&e&&p.jc("showTypesFilter",!0)}function M(e,t){if(1&e&&(p.Tb(0,"tr"),p.Tb(1,"td",14),p.Pb(2,"pokedex-ng-machine-detail",15),p.Sb(),p.Sb()),2&e){const e=p.cc().$implicit;p.Ab(2),p.jc("machineId",e.id)}}const w=function(e){return{"background-color":e}};function x(e,t){if(1&e){const e=p.Ub();p.Rb(0),p.Tb(1,"tr",7),p.ac("click",function(){p.xc(e);const i=t.$implicit,r=p.cc();return r.expandedMachine=r.expandedMachine===i.id.toString()?"":i.id.toString()}),p.Tb(2,"td",8),p.Fc(3),p.Sb(),p.Tb(4,"td",9),p.Pb(5,"img",10),p.Sb(),p.Tb(6,"td",8),p.Fc(7),p.dc(8,"translate"),p.Sb(),p.Tb(9,"td",8),p.Fc(10),p.Sb(),p.Tb(11,"td",8),p.Fc(12),p.dc(13,"translate"),p.Sb(),p.Tb(14,"td",11),p.Tb(15,"span",12),p.dc(16,"pokeTypeColor"),p.Fc(17),p.dc(18,"uppercase"),p.dc(19,"translate"),p.Sb(),p.Sb(),p.Tb(20,"td",8),p.Fc(21),p.Sb(),p.Tb(22,"td",8),p.Fc(23),p.Sb(),p.Tb(24,"td",8),p.Fc(25),p.Sb(),p.Sb(),p.Dc(26,M,3,1,"tr",13),p.Qb()}if(2&e){const e=t.$implicit,i=p.cc();p.Ab(3),p.Gc(e.id),p.Ab(2),p.lc("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/",e.item.sprite,"",p.yc),p.kc("alt",e.item.sprite),p.Ab(2),p.Gc(p.ec(8,12,"ITEM."+e.item.name+".NAME")),p.Ab(3),p.Gc(e.item.cost),p.Ab(2),p.Gc(p.ec(13,14,"MOVE."+e.move.name+".NAME")),p.Ab(3),p.jc("ngStyle",p.oc(22,w,p.ec(16,16,e.move.type))),p.Ab(2),p.Gc(p.ec(18,18,p.ec(19,20,"TYPE."+e.move.type+".NAME"))),p.Ab(4),p.Gc(e.move.power),p.Ab(2),p.Gc(e.move.pp),p.Ab(2),p.Gc(e.move.accuracy),p.Ab(1),p.jc("ngIf",i.expandedMachine===e.id.toString())}}const _=[{path:"",component:(()=>{class e{constructor(e,t,i,r,c){this.machineService=e,this.filterService=t,this.appNavbarService=i,this.route=r,this.versionGroupService=c,this.subscriptions=new n.a,this._machines$=new a.a([]),this._filterChange$=new a.a(!0),this.expandedMachine="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(e=>{var t;this.expandedMachine=(null===(t=null==e?void 0:e.machine)||void 0===t?void 0:t.id)+""||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showFiltersButton(),this.appNavbarService.showVersionGroupPicker()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getMachines$(){return this._machines$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe(Object(m.a)(e=>e?this.offset=this.increment:this.offset+=this.increment),Object(v.a)(()=>this.machineService.getAllFiltered()),Object(b.a)(e=>e.slice(0,this.offset))).subscribe(e=>this._machines$.next(e))}_filterChangesSubscription(){return Object(s.a)(this.filterService.getTypesFilter$().pipe(Object(S.a)(1)),this.versionGroupService.getActiveVersionGroup$().pipe(Object(S.a)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(u),p.Ob(l.a),p.Ob(f.a),p.Ob(c.a),p.Ob(h.a))},e.\u0275cmp=p.Ib({type:e,selectors:[["pokedex-ng-machine-list"]],decls:28,vars:8,consts:[[1,"machine-table-container","w-100","d-flex","flex-column","align-items-center"],["class","machine-table",3,"showTypesFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","machine-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Machine Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"machine-table",3,"showTypesFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"align-middle","py-0"],["height","40px",1,"py-0",3,"src","alt"],[1,"p-0","align-middle","d-flex","justify-content-start"],[1,"m-1","px-2","rounded-lg",3,"ngStyle"],[4,"ngIf"],["colspan","6"],[3,"machineId"]],template:function(e,t){1&e&&(p.Tb(0,"div",0),p.Dc(1,A,1,1,"pokedex-ng-filter-toolbar",1),p.dc(2,"async"),p.Tb(3,"div",2),p.ac("scrolled",function(){return t.renderMore()}),p.Tb(4,"table",3),p.Tb(5,"thead"),p.Tb(6,"tr"),p.Tb(7,"th",4),p.Fc(8,"Id"),p.Sb(),p.Tb(9,"th",4),p.Fc(10,"Image"),p.Sb(),p.Tb(11,"th",4),p.Fc(12,"Name"),p.Sb(),p.Tb(13,"th",4),p.Fc(14,"Cost"),p.Sb(),p.Tb(15,"th",4),p.Fc(16,"Move"),p.Sb(),p.Tb(17,"th",4),p.Fc(18,"Type"),p.Sb(),p.Tb(19,"th",4),p.Fc(20,"Power"),p.Sb(),p.Tb(21,"th",4),p.Fc(22,"PP"),p.Sb(),p.Tb(23,"th",4),p.Fc(24,"Accuracy"),p.Sb(),p.Sb(),p.Sb(),p.Tb(25,"tbody"),p.Dc(26,x,27,24,"ng-container",5),p.dc(27,"async"),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&e&&(p.Ab(1),p.jc("ngIf",p.ec(2,4,t.appNavbarService.getShowFilters$())),p.Ab(2),p.jc("infiniteScrollDistance",2)("infiniteScrollThrottle",150),p.Ab(23),p.jc("ngForOf",p.ec(27,6,t.getMachines$())))},directives:[r.k,g.a,r.j,T.a,r.l,y],pipes:[r.b,F.c,O.a,r.q],styles:[".machine-table[_ngcontent-%COMP%]{max-width:1000px}"]}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({imports:[[c.e.forChild(_)],c.e]}),e})();var E=i("+jFU"),k=i("IQ7W"),I=i("oCTN"),G=i("fxdm");let X=(()=>{class e{constructor(e,t,i,r){this.itemService=e,this.machineService=t,this.moveService=i,this.typeService=r}}return e.\u0275fac=function(t){return new(t||e)(p.Xb(k.a),p.Xb(u),p.Xb(I.a),p.Xb(G.a))},e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({imports:[[r.c,j,g.b,E.a]]}),e})()},oCTN:function(e,t,i){"use strict";i.d(t,"a",function(){return u});var r=i("2CaP"),c=i("LRne"),n=i("lJxs"),a=i("IzEk"),s=i("Sirz"),o=i("aMbW"),b=i("j3wI"),l=i("gOMg"),h=i("fXoL"),p=i("tk/3"),d=i("sYmb");let u=(()=>{class e extends o.b{constructor(e,t,i,r,c){super("move",e,t,i),this.http=e,this.translateService=t,this.languageService=i,this.versionGroupService=r,this.filterService=c}getAllFiltered(){return this.getAll().pipe(Object(n.a)(e=>this.filterService.filterByGeneration(e)),Object(n.a)(e=>this.filterService.filterByType(e)),Object(n.a)(e=>this.filterService.filterByLocalizedName(e)))}_parseAllTranslations(e){const t=new r.a;return e.forEach(e=>e.names.forEach(i=>t.merge(i.language,{MOVE:{[e.name]:{NAME:i.name}}}))),Object(c.a)(t)}_parseOneTranslation(e){return this.versionGroupService.getAll().pipe(Object(a.a)(1),Object(n.a)(t=>{var i;const c=new r.a;e.effect_entries.forEach(t=>{c.merge(t.language.name,{MOVE:{[e.name]:{EFFECT_ENTRY:{SHORT:t.short_effect,EFFECT:t.effect}}}})});const n=(null===(i=e.flavor_text_entries.find(e=>"en"===e.language.name))||void 0===i?void 0:i.flavor_text)||"MOVE_TRANSLATE_ERROR_001";return t.forEach(t=>{c.merge("en",{MOVE:{[e.name]:{FLAVOR_TEXT:{[t.name]:n}}}})}),e.flavor_text_entries.forEach(t=>{c.merge(t.language.name,{MOVE:{[e.name]:{FLAVOR_TEXT:{[t.version_group.name]:t.flavor_text}}}})}),c}))}}return e.\u0275fac=function(t){return new(t||e)(h.Xb(p.b),h.Xb(d.d),h.Xb(b.a),h.Xb(l.a),h.Xb(s.a))},e.\u0275prov=h.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);