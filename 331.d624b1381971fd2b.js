"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[331],{1331:(X,m,n)=>{n.r(m),n.d(m,{MachineModule:()=>V});var c=n(9808),v=n(6352),h=n(2186),u=n(9685),T=n(4184),d=n(4004),g=n(4474),S=n(9716),f=n(45),e=n(5e3),y=n(520);let Z=(()=>{class i extends S.bQ{constructor(t,o,r){super("machine",t),this.http=t,this.filterService=o,this.versionGroupService=r}getAllFiltered(){return this.getAll().pipe((0,d.U)(t=>this.versionGroupService.filterByVersionGroup(t)),(0,d.U)(t=>this.filterService.filterByChildType(t,"move")))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(y.eN),e.LFG(g.i),e.LFG(f.H))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var A=n(8996),C=n(1150),b=n(6719),U=n(6370),F=n(5707),I=n(493),p=n(5773),L=n(727),M=n(1135),O=n(6451),G=n(8505),$=n(3900),x=n(5684),N=n(8684),Q=n(3805),J=n(9168),D=n(9919),B=n(2470);let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-machine-detail"]],inputs:{moveId:"moveId",itemId:"itemId"},decls:8,vars:2,consts:[[1,"m-2"],[3,"moveId"],[3,"itemId"]],template:function(t,o){1&t&&(e.TgZ(0,"mdb-card",0)(1,"mdb-card-header"),e._uU(2,"Move"),e.qZA(),e._UZ(3,"pokedex-ng-move-detail",1),e.qZA(),e.TgZ(4,"mdb-card",0)(5,"mdb-card-header"),e._uU(6,"Item"),e.qZA(),e._UZ(7,"pokedex-ng-item-detail",2),e.qZA()),2&t&&(e.xp6(3),e.Q6J("moveId",o.moveId),e.xp6(4),e.Q6J("itemId",o.itemId))},directives:[h.n3,h.W6,D.Q,B.g],styles:[""]}),i})();function z(i,s){1&i&&e._UZ(0,"pokedex-ng-filter-toolbar",6),2&i&&e.Q6J("showTypesFilter",!0)}function P(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",14),e._UZ(2,"pokedex-ng-machine-detail",15),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("moveId",t.move.name)("itemId",t.item.name)}}function E(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return l.expandedMachine=l.expandedMachine===a.id.toString()?"":a.id.toString()}),e.TgZ(2,"td",8),e._uU(3),e.qZA(),e.TgZ(4,"td",9),e._UZ(5,"img",10),e.qZA(),e.TgZ(6,"td",8),e._uU(7),e.ALo(8,"transloco"),e.qZA(),e.TgZ(9,"td",8),e._uU(10),e.qZA(),e.TgZ(11,"td",8),e._uU(12),e.ALo(13,"transloco"),e.qZA(),e.TgZ(14,"td",8)(15,"div",11),e._UZ(16,"pokedex-ng-type-pill",12),e.qZA()(),e.TgZ(17,"td",8),e._uU(18),e.qZA(),e.TgZ(19,"td",8),e._uU(20),e.qZA(),e.TgZ(21,"td",8),e._uU(22),e.qZA()(),e.YNc(23,P,3,2,"tr",13),e.BQk()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(3),e.Oqu(t.id),e.xp6(2),e.MGl("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/",t.item.sprite,"",e.LSH),e.s9C("alt",t.item.sprite),e.xp6(2),e.Oqu(e.lcZ(8,14,"ITEM."+t.item.name+".NAME")),e.xp6(3),e.Oqu(t.item.cost),e.xp6(2),e.Oqu(e.lcZ(13,16,"MOVE."+t.move.name+".NAME")),e.xp6(4),e.Q6J("type",t.move.type)("showDefending",!1)("clickable",!1)("size",12),e.xp6(2),e.Oqu(t.move.power),e.xp6(2),e.Oqu(t.move.pp),e.xp6(2),e.Oqu(t.move.accuracy),e.xp6(1),e.Q6J("ngIf",o.expandedMachine===t.id.toString())}}const R=[{path:"",component:(()=>{class i{constructor(t,o,r,a,l){this.machineService=t,this.filterService=o,this.appNavbarService=r,this.route=a,this.versionGroupService=l,this.subscriptions=new L.w0,this._machines$=new M.X([]),this._filterChange$=new M.X(!0),this.expandedMachine="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(t=>{var o;this.expandedMachine=(null===(o=null==t?void 0:t.machine)||void 0===o?void 0:o.id)+""||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showFiltersButton(),this.appNavbarService.showVersionGroupPicker()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getMachines$(){return this._machines$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe((0,G.b)(t=>t?this.offset=this.increment:this.offset+=this.increment),(0,$.w)(()=>this.machineService.getAllFiltered()),(0,d.U)(t=>t.slice(0,this.offset))).subscribe(t=>this._machines$.next(t))}_filterChangesSubscription(){return(0,O.T)(this.filterService.getTypesFilter$().pipe((0,x.T)(1)),this.versionGroupService.getActiveVersionGroup$().pipe((0,x.T)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(g.i),e.Y36(N.t),e.Y36(p.gz),e.Y36(f.H))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-machine-list"]],decls:28,vars:8,consts:[[1,"machine-table-container","w-100","d-flex","flex-column","align-items-center"],["class","machine-table",3,"showTypesFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","machine-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Machine Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"machine-table",3,"showTypesFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"align-middle","py-0"],["height","40px",1,"py-0",3,"src","alt"],[1,"p-1"],[3,"type","showDefending","clickable","size"],[4,"ngIf"],["colspan","9"],[3,"moveId","itemId"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,z,1,1,"pokedex-ng-filter-toolbar",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e.NdJ("scrolled",function(){return o.renderMore()}),e.TgZ(4,"table",3)(5,"thead")(6,"tr")(7,"th",4),e._uU(8,"Id"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Image"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Name"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Cost"),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"Move"),e.qZA(),e.TgZ(17,"th",4),e._uU(18,"Type"),e.qZA(),e.TgZ(19,"th",4),e._uU(20,"Power"),e.qZA(),e.TgZ(21,"th",4),e._uU(22,"PP"),e.qZA(),e.TgZ(23,"th",4),e._uU(24,"Accuracy"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,E,24,18,"ng-container",5),e.ALo(27,"async"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,o.appNavbarService.getShowFilters$())),e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",150),e.xp6(23),e.Q6J("ngForOf",e.lcZ(27,6,o.getMachines$())))},directives:[c.O5,Q.Q,u.Ry,c.sg,J.D,Y],pipes:[c.Ov,v.Ot],styles:[".machine-table[_ngcontent-%COMP%]{max-width:1000px}"]}),i})()}];let H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.Bz.forChild(R)],p.Bz]}),i})(),V=(()=>{class i{constructor(t,o,r,a){this.itemService=t,this.machineService=o,this.moveService=r,this.typeService=a}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(T.e),e.LFG(Z),e.LFG(A.q),e.LFG(C.S))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.ez,H,u.Rq,b.m,h.yi,F.l,U.n,v.y4,I.Q]]}),i})()}}]);