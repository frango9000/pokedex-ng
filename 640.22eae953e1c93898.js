"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[640],{7236:(F,g,i)=>{i.r(g),i.d(g,{ItemModule:()=>Y});var d=i(9808),u=i(6352),p=i(9685),v=i(2839),n=i(3735),r=i(4184),c=i(6719),a=i(6370),l=i(5773),S=i(515),A=i(262),t=i(5e3);let Z=(()=>{class o{constructor(e,s){this.itemService=e,this.router=s}resolve(e){var s;return this.itemService.fetchApiOne((null===(s=null==e?void 0:e.params)||void 0===s?void 0:s.item)||1).pipe((0,A.K)(()=>(this.router.navigate(["item","1"]),S.E)))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(r.e),t.LFG(l.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=i(727),b=i(1135),E=i(6451),h=i(8505),P=i(3900),L=i(4004),T=i(5684),O=i(4474),k=i(8342),x=i(8684),D=i(3805),U=i(2470);function B(o,m){1&o&&t._UZ(0,"pokedex-ng-filter-toolbar",6),2&o&&t.Q6J("showItemPocketFilter",!0)("showItemCategoryFilter",!0)}function $(o,m){if(1&o&&(t.TgZ(0,"tr")(1,"td",12),t._UZ(2,"pokedex-ng-item-detail",13),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("itemId",e.id)}}function N(o,m){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",7),t.NdJ("click",function(){const I=t.CHM(e).$implicit,C=t.oxw();return C.expandedItem=C.expandedItem===I.id.toString()||C.expandedItem===I.name?"":I.name}),t.TgZ(2,"td",8),t._uU(3),t.qZA(),t.TgZ(4,"td",9),t._UZ(5,"img",10),t.qZA(),t.TgZ(6,"td",8),t._uU(7),t.ALo(8,"transloco"),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA(),t.TgZ(11,"td",8),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t.TgZ(14,"td",8),t._uU(15),t.ALo(16,"transloco"),t.qZA()(),t.YNc(17,$,3,1,"tr",11),t.BQk()}if(2&o){const e=m.$implicit,s=t.oxw();t.xp6(3),t.Oqu(e.id),t.xp6(2),t.MGl("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/",e.sprite,"",t.LSH),t.s9C("alt",e.sprite),t.xp6(2),t.Oqu(t.lcZ(8,8,"ITEM."+e.name+".NAME")),t.xp6(3),t.Oqu(e.cost),t.xp6(2),t.Oqu(t.lcZ(13,10,"ITEM.CATEGORY."+e.category+".NAME")),t.xp6(3),t.Oqu(t.lcZ(16,12,"ITEM.POCKET."+e.pocket+".NAME")),t.xp6(2),t.Q6J("ngIf",s.expandedItem===e.id.toString()||s.expandedItem===e.name)}}let M=(()=>{class o{constructor(e,s,f,I,C){this.itemService=e,this.filterService=s,this.languageService=f,this.appNavbarService=I,this.route=C,this.subscriptions=new y.w0,this._items$=new b.X([]),this._filterChange$=new b.X(!0),this.expandedItem="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(e=>{var s;this.expandedItem=(null===(s=null==e?void 0:e.item)||void 0===s?void 0:s.name)||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showSearchBar(),this.appNavbarService.showFiltersButton(),this.appNavbarService.showVersionGroupPicker()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getItems$(){return this._items$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe((0,h.b)(e=>e?this.offset=this.increment:this.offset+=this.increment),(0,P.w)(()=>this.itemService.getAllFiltered()),(0,L.U)(e=>e.slice(0,this.offset))).subscribe(e=>this._items$.next(e))}_filterChangesSubscription(){return(0,E.T)(this.filterService.getQueryFilter$().pipe((0,T.T)(1)),this.filterService.getItemPocketFilter$().pipe((0,T.T)(1)),this.filterService.getItemCategoryFilter$().pipe((0,T.T)(1)),this.languageService.getDisplayLanguage$().pipe((0,T.T)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.e),t.Y36(O.i),t.Y36(k.T),t.Y36(x.t),t.Y36(l.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["pokedex-ng-item-list"]],decls:22,vars:8,consts:[[1,"item-table-container","w-100","d-flex","flex-column","align-items-center"],["class","item-table",3,"showItemPocketFilter","showItemCategoryFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","item-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Item Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"item-table",3,"showItemPocketFilter","showItemCategoryFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"align-middle","py-0"],["height","40px",1,"py-0",3,"src","alt"],[4,"ngIf"],["colspan","6"],[3,"itemId"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.YNc(1,B,1,2,"pokedex-ng-filter-toolbar",1),t.ALo(2,"async"),t.TgZ(3,"div",2),t.NdJ("scrolled",function(){return s.renderMore()}),t.TgZ(4,"table",3)(5,"thead")(6,"tr")(7,"th",4),t._uU(8,"Id"),t.qZA(),t.TgZ(9,"th",4),t._uU(10,"Image"),t.qZA(),t.TgZ(11,"th",4),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"th",4),t._uU(14,"Cost"),t.qZA(),t.TgZ(15,"th",4),t._uU(16,"Category"),t.qZA(),t.TgZ(17,"th",4),t._uU(18,"Pocket"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,N,18,14,"ng-container",5),t.ALo(21,"async"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,s.appNavbarService.getShowFilters$())),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",150),t.xp6(17),t.Q6J("ngForOf",t.lcZ(21,6,s.getItems$())))},directives:[d.O5,D.Q,p.Ry,d.sg,U.g],pipes:[d.Ov,u.Ot],styles:[".item-table[_ngcontent-%COMP%]{max-width:1000px}"]}),o})();const w=[{path:"",component:M},{path:":item",component:M,resolve:{item:Z}}];let R=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(w)],l.Bz]}),o})(),Y=(()=>{class o{constructor(e,s,f){this.itemService=e,this.itemCategoryService=s,this.itemPocketService=f}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(r.e),t.LFG(v.F),t.LFG(n.N))},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,R,a.n,p.Rq,c.m,u.y4]]}),o})()},2395:(F,g,i)=>{i.d(g,{g:()=>u});var d=i(5e3);let u=(()=>{class p{transform(n,r=!1,c=""){let a=this.getTypeColor(n);if(null==c?void 0:c.length){const l=this.getTypeColor(c);a=this.blendColors(a,l)}return r?this.invertColor(a):a}invertColor(n){if(0===n.indexOf("#")&&(n=n.slice(1)),3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),6!==n.length)throw new Error("Invalid HEX color.");const r=(255-parseInt(n.slice(0,2),16)).toString(16),c=(255-parseInt(n.slice(2,4),16)).toString(16),a=(255-parseInt(n.slice(4,6),16)).toString(16);return"#"+this.padZero(r)+this.padZero(c)+this.padZero(a)}padZero(n,r){return r=r||2,(new Array(r).join("0")+n).slice(-r)}blendColors(n,r,c=.5){const[a,l,S]=n.match(/\w\w/g).map(h=>parseInt(h,16)),[A,t,Z]=r.match(/\w\w/g).map(h=>parseInt(h,16));return"#"+Math.round(a+(A-a)*c).toString(16).padStart(2,"0")+Math.round(l+(t-l)*c).toString(16).padStart(2,"0")+Math.round(S+(Z-S)*c).toString(16).padStart(2,"0")}getTypeColor(n){let r="#000";switch(n){case"normal":r="#9C9C63";break;case"fighting":r="#AE2A24";break;case"flying":r="#8E6FEB";break;case"poison":r="#923A92";break;case"ground":r="#DBB54D";break;case"rock":r="#A48F32";break;case"bug":r="#97A51D";break;case"ghost":r="#644E88";break;case"steel":r="#A0A0C0";break;case"fire":r="#ED6D12";break;case"water":r="#4578ED";break;case"grass":r="#69C23D";break;case"electric":r="#F6C913";break;case"psychic":r="#F73670";break;case"ice":r="#7ECECE";break;case"dragon":r="#5D1EF7";break;case"dark":r="#644e40";break;case"fairy":r="#E87890";break;case"unknown":r="#888";break;case"shadow":r="#444"}return r}}return p.\u0275fac=function(n){return new(n||p)},p.\u0275pipe=d.Yjl({name:"pokeTypeColor",type:p,pure:!0}),p})()},2361:(F,g,i)=>{i.d(g,{T:()=>n});var d=i(3900),u=i(45),p=i(5e3),v=i(6352);let n=(()=>{class r{constructor(a,l){this.gameVersionService=a,this.translateService=l}transform(a){return this.gameVersionService.getActiveVersionGroup$().pipe((0,d.w)(l=>this.translateService.selectTranslate(a+l)))}}return r.\u0275fac=function(a){return new(a||r)(p.Y36(u.H,16),p.Y36(v.Vn,16))},r.\u0275pipe=p.Yjl({name:"withVersionGroup",type:r,pure:!0}),r})()}}]);