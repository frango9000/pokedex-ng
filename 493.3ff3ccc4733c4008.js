"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[493],{8808:(K,I,_)=>{_.d(I,{z:()=>p});var x=_(655),Z=_(4987),l=_(1135),B=_(3900),d=_(4004),a=_(1150),e=_(5e3);function P(E,v){if(1&E&&e._UZ(0,"pokedex-ng-types-pill",6),2&E){const y=v.ngIf,C=e.oxw(2);e.Q6J("clickable",C.clickableTitle)("types",y)("size",18)}}function A(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",18),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const y=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",y.name)("inline",!1),e.xp6(3),e.hij("x",y.multiplier,"")}}function k(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",19),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const y=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",y.name)("inline",!1),e.xp6(3),e.hij("x",y.multiplier,"")}}function S(E,v){if(1&E&&(e.ynx(0,7),e.TgZ(1,"div",8),e.TgZ(2,"div",9),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"div",11),e.TgZ(7,"h6",12),e._uU(8),e.ALo(9,"transloco"),e.qZA(),e._UZ(10,"span",13),e.qZA(),e.YNc(11,A,5,4,"div",14),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"h6",12),e._uU(15),e.ALo(16,"transloco"),e.qZA(),e._UZ(17,"span",13),e.qZA(),e.YNc(18,k,5,4,"div",14),e.qZA(),e.qZA(),e.BQk()),2&E){const y=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,5,"UI.TYPE_DAMAGES.CONTEXT.ATTACKING")),e.xp6(5),e.Oqu(e.lcZ(9,7,"UI.TYPE_DAMAGES.WEAKNESSES")),e.xp6(3),e.Q6J("ngForOf",y.attacking.weaknesses),e.xp6(4),e.Oqu(e.lcZ(16,9,"UI.TYPE_DAMAGES.STRENGTHS")),e.xp6(3),e.Q6J("ngForOf",y.attacking.strengths)}}function U(E,v){1&E&&e._UZ(0,"div",1)}function w(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",18),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const y=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",y.name)("inline",!1),e.xp6(3),e.hij("x",y.multiplier,"")}}function b(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",21),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const y=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",y.name)("inline",!1),e.xp6(3),e.hij("x",y.multiplier,"")}}function f(E,v){if(1&E&&(e.ynx(0),e.YNc(1,U,1,0,"div",20),e.TgZ(2,"div",8),e.TgZ(3,"div",9),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",10),e.TgZ(7,"div",11),e.TgZ(8,"h6",12),e._uU(9),e.ALo(10,"transloco"),e.qZA(),e._UZ(11,"span",13),e.qZA(),e.YNc(12,w,5,4,"div",14),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"h6",12),e._uU(16),e.ALo(17,"transloco"),e.qZA(),e._UZ(18,"span",13),e.qZA(),e.YNc(19,b,5,4,"div",14),e.qZA(),e.qZA(),e.BQk()),2&E){const y=e.oxw().ngIf,C=e.oxw();e.xp6(1),e.Q6J("ngIf",C.showAttacking&&(null==y?null:y.attacking)),e.xp6(3),e.Oqu(e.lcZ(5,6,"UI.TYPE_DAMAGES.CONTEXT.DEFENDING")),e.xp6(5),e.Oqu(e.lcZ(10,8,"UI.TYPE_DAMAGES.WEAKNESSES")),e.xp6(3),e.Q6J("ngForOf",y.defending.weaknesses),e.xp6(4),e.Oqu(e.lcZ(17,10,"UI.TYPE_DAMAGES.RESISTANCES")),e.xp6(3),e.Q6J("ngForOf",y.defending.resistances)}}function T(E,v){if(1&E&&(e.ynx(0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,P,1,3,"pokedex-ng-types-pill",3),e.ALo(4,"async"),e.qZA(),e.qZA(),e.YNc(5,S,19,11,"ng-container",4),e.YNc(6,f,20,12,"ng-container",0),e._UZ(7,"div",5),e.BQk()),2&E){const y=v.ngIf,C=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,C.types$)),e.xp6(2),e.Q6J("ngIf",C.showAttacking&&(null==y?null:y.attacking)),e.xp6(1),e.Q6J("ngIf",C.showDefending&&(null==y?null:y.defending))}}let p=class{constructor(v){this.typeService=v,this._typeDamages$=new l.X(null),this.showDefending=!1,this.showAttacking=!1,this.clickableTitle=!1,this.clickableEntries=!1}ngOnInit(){this.types$.pipe((0,Z.t)(this),(0,B.w)(v=>this.typeService.getAll().pipe((0,d.U)(y=>this.generateTypeDamages(v,y))))).subscribe()}getTypeDamages$(){return this._typeDamages$.asObservable()}generateTypeDamages(v,y){const C=v.map(g=>y.find(D=>D.name===g));let s=y.map(g=>({name:g.name,multiplier:1}));C.forEach(g=>{g.damage_relations.double_damage_from.forEach(D=>{const R=s.findIndex(t=>t.name===D);s[R].multiplier*=2}),g.damage_relations.half_damage_from.forEach(D=>{const R=s.findIndex(t=>t.name===D);s[R].multiplier*=.5}),g.damage_relations.no_damage_from.forEach(D=>{const R=s.findIndex(t=>t.name===D);s[R].multiplier*=0})}),s=s.filter(g=>1!==g.multiplier);let u=y.map(g=>({name:g.name,multiplier:1}));C.forEach(g=>{g.damage_relations.double_damage_to.forEach(D=>{const R=u.findIndex(t=>t.name===D);u[R].multiplier*=2}),g.damage_relations.half_damage_to.forEach(D=>{const R=u.findIndex(t=>t.name===D);u[R].multiplier*=.5}),g.damage_relations.no_damage_to.forEach(D=>{const R=u.findIndex(t=>t.name===D);u[R].multiplier*=0})}),u=u.filter(g=>1!==g.multiplier),this._typeDamages$.next({attacking:{weaknesses:u.filter(g=>g.multiplier<1),strengths:u.filter(g=>g.multiplier>1)},defending:{weaknesses:s.filter(g=>g.multiplier>1),resistances:s.filter(g=>g.multiplier<1)}})}};p.\u0275fac=function(v){return new(v||p)(e.Y36(a.S))},p.\u0275cmp=e.Xpm({type:p,selectors:[["pokedex-ng-type-damages"]],inputs:{types$:"types$",showDefending:"showDefending",showAttacking:"showAttacking",clickableTitle:"clickableTitle",clickableEntries:"clickableEntries"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"pt-3"],[1,"m-3","d-flex","justify-content-center"],[3,"clickable","types","size",4,"ngIf"],["class","pt-1",4,"ngIf"],[1,"pb-3"],[3,"clickable","types","size"],[1,"pt-1"],[1,"row","m-1","text-center"],[1,"col-12","font-weight-bold"],[1,"col-12","col-sm-6"],[1,"row"],[1,"col-9"],[1,"col-3"],["class","row my-1",4,"ngFor","ngForOf"],[1,"row","my-1"],[1,"col-9",3,"clickable","type","inline"],[1,"col-3","text-left","px-0","pl-4","pl-sm-2"],[1,"weakness-multiplier"],[1,"strength-multiplier"],["class","pt-3",4,"ngIf"],[1,"resistance-multiplier"]],template:function(v,y){1&v&&(e.YNc(0,T,8,5,"ng-container",0),e.ALo(1,"async")),2&v&&e.Q6J("ngIf",e.lcZ(1,1,y.getTypeDamages$()))},styles:[".weakness-multiplier[_ngcontent-%COMP%]{color:#e70000;font-weight:700}.resistance-multiplier[_ngcontent-%COMP%], .strength-multiplier[_ngcontent-%COMP%]{color:#00e700;font-weight:700}"]}),p=(0,x.gn)([(0,Z.c)(),(0,x.w6)("design:paramtypes",[a.S])],p)},493:(K,I,_)=>{_.d(I,{Q:()=>P});var x=_(9808),Z=_(2546),l=_(6719),B=_(8808),d=_(9168),a=_(7400),e=_(5e3);let P=(()=>{class A{}return A.\u0275fac=function(S){return new(S||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({imports:[[x.ez,Z.y4,l.m]]}),A})();e.B6R(B.z,[x.O5,a.w,x.sg,d.D],[x.Ov,Z.Ot])},9168:(K,I,_)=>{_.d(I,{D:()=>w});var x=_(655),Z=_(4987),l=_(3491),B=_(9646),d=_(8808),a=_(5e3),e=_(9808),P=_(2395),A=_(2546);const k=function(b,f,T){return{"background-color":b,color:"white","font-size":f,"border-radius":T}},S=function(b,f){return{"rotate-90":b,"inline-type":f}};function U(b,f){if(1&b){const T=a.EpF();a.TgZ(0,"div",1),a.NdJ("click",function(){return a.CHM(T),a.oxw().onClick()}),a.ALo(1,"pokeTypeColor"),a._uU(2),a.ALo(3,"uppercase"),a.ALo(4,"transloco"),a.qZA()}if(2&b){const T=a.oxw();a.Q6J("ngStyle",a.kEZ(9,k,a.lcZ(1,3,T.type),T.size+"px",T.size/2+"px"))("ngClass",a.WLB(13,S,T.vertical,T.inline)),a.xp6(2),a.hij(" ",a.lcZ(3,5,a.lcZ(4,7,"TYPE."+T.type+".NAME")),"\n")}}let w=class{constructor(f){this.modalService=f,this.size=16,this.vertical=!1,this.inline=!0,this.clickable=!0,this.showDefending=!0,this.showAttacking=!0}onClick(){this.clickable&&this.modalService.show(d.z,{class:"modal-dialog-centered",data:{showDefending:this.showDefending,showAttacking:this.showAttacking,types$:(0,B.of)([this.type])}})}};w.\u0275fac=function(f){return new(f||w)(a.Y36(l.yU))},w.\u0275cmp=a.Xpm({type:w,selectors:[["pokedex-ng-type-pill"]],inputs:{type:"type",size:"size",vertical:"vertical",inline:"inline",clickable:"clickable",showDefending:"showDefending",showAttacking:"showAttacking"},decls:1,vars:1,consts:[["class","cursor-pointer text-center rounded-lg",3,"ngStyle","ngClass","click",4,"ngIf"],[1,"cursor-pointer","text-center","rounded-lg",3,"ngStyle","ngClass","click"]],template:function(f,T){1&f&&a.YNc(0,U,5,16,"div",0),2&f&&a.Q6J("ngIf",T.type)},directives:[e.O5,e.PC,e.mk],pipes:[P.g,e.gd,A.Ot],styles:["[_nghost-%COMP%]{display:inline}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{padding:2px 6px;font-weight:700}[_nghost-%COMP%]   div.inline-type[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]   div.rotate-90[_ngcontent-%COMP%]{padding:6px 0;white-space:nowrap;position:relative;writing-mode:vertical-rl;transform:rotate(180deg);display:inline-block;overflow:visible}"]}),w=(0,x.gn)([(0,Z.c)(),(0,x.w6)("design:paramtypes",[l.yU])],w)},7400:(K,I,_)=>{_.d(I,{w:()=>b});var x=_(9646),Z=_(8808),l=_(5e3),B=_(3491),d=_(9808),a=_(9168),e=_(2395);function P(f,T){if(1&f&&l._UZ(0,"pokedex-ng-type-pill",3),2&f){const p=l.oxw(2);l.Q6J("type",p.types[0])("size",p.size)("clickable",!1)("inline",p.inline)("vertical",p.vertical)}}function A(f,T){if(1&f&&l._UZ(0,"pokedex-ng-type-pill",3),2&f){const p=l.oxw(3);l.Q6J("type",p.types[1])("size",p.size)("clickable",!1)("inline",p.inline)("vertical",p.vertical)}}const k=function(f,T){return{"background-color":f,"border-radius":T}},S=function(f){return{"font-size":f,color:"white"}};function U(f,T){if(1&f&&(l.ynx(0),l.TgZ(1,"div",4),l.ALo(2,"pokeTypeColor"),l._UZ(3,"i",5),l.qZA(),l.YNc(4,A,1,5,"pokedex-ng-type-pill",2),l.BQk()),2&f){const p=l.oxw(2);l.xp6(1),l.Q6J("ngStyle",l.WLB(7,k,l.Dn7(2,3,p.types[0],!1,p.types[1]),p.size/3+"px")),l.xp6(2),l.Q6J("ngStyle",l.VKq(10,S,.6*p.size+"px")),l.xp6(1),l.Q6J("ngIf",!p.hideSecondType)}}function w(f,T){if(1&f){const p=l.EpF();l.ynx(0),l.TgZ(1,"div",1),l.NdJ("click",function(){return l.CHM(p),l.oxw().onClick()}),l.YNc(2,P,1,5,"pokedex-ng-type-pill",2),l.YNc(3,U,5,12,"ng-container",0),l.qZA(),l.BQk()}if(2&f){const p=l.oxw();l.xp6(2),l.Q6J("ngIf",!p.hideFirstType),l.xp6(1),l.Q6J("ngIf",p.types.length>1)}}let b=(()=>{class f{constructor(p){this.modalService=p,this.types=[],this.size=16,this.vertical=!1,this.inline=!0,this.clickable=!0,this.hideFirstType=!1,this.hideSecondType=!1}onClick(){this.clickable&&this.modalService.show(Z.z,{class:"modal-dialog-centered",data:{showDefending:!0,showAttacking:!1,types$:(0,x.of)([...this.types])}})}}return f.\u0275fac=function(p){return new(p||f)(l.Y36(B.yU))},f.\u0275cmp=l.Xpm({type:f,selectors:[["pokedex-ng-types-pill"]],inputs:{types:"types",size:"size",vertical:"vertical",inline:"inline",clickable:"clickable",hideFirstType:"hideFirstType",hideSecondType:"hideSecondType"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"",3,"click"],[3,"type","size","clickable","inline","vertical",4,"ngIf"],[3,"type","size","clickable","inline","vertical"],[1,"type-merge",3,"ngStyle"],[1,"fab","fa-mixer","type-merge-icon",3,"ngStyle"]],template:function(p,E){1&p&&l.YNc(0,w,4,2,"ng-container",0),2&p&&l.Q6J("ngIf",E.types.length>0)},directives:[d.O5,a.D,d.PC],pipes:[e.g],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]   .type-merge[_ngcontent-%COMP%]{margin:0 3px}[_nghost-%COMP%]   .type-merge[_ngcontent-%COMP%]   .type-merge-icon[_ngcontent-%COMP%]{padding:0 4px}"]}),f})()},2395:(K,I,_)=>{_.d(I,{g:()=>Z});var x=_(5e3);let Z=(()=>{class l{transform(d,a=!1,e=""){let P=this.getTypeColor(d);if(null==e?void 0:e.length){const A=this.getTypeColor(e);P=this.blendColors(P,A)}return a?this.invertColor(P):P}invertColor(d){if(0===d.indexOf("#")&&(d=d.slice(1)),3===d.length&&(d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]),6!==d.length)throw new Error("Invalid HEX color.");const a=(255-parseInt(d.slice(0,2),16)).toString(16),e=(255-parseInt(d.slice(2,4),16)).toString(16),P=(255-parseInt(d.slice(4,6),16)).toString(16);return"#"+this.padZero(a)+this.padZero(e)+this.padZero(P)}padZero(d,a){return a=a||2,(new Array(a).join("0")+d).slice(-a)}blendColors(d,a,e=.5){const[P,A,k]=d.match(/\w\w/g).map(p=>parseInt(p,16)),[S,U,w]=a.match(/\w\w/g).map(p=>parseInt(p,16));return"#"+Math.round(P+(S-P)*e).toString(16).padStart(2,"0")+Math.round(A+(U-A)*e).toString(16).padStart(2,"0")+Math.round(k+(w-k)*e).toString(16).padStart(2,"0")}getTypeColor(d){let a="#000";switch(d){case"normal":a="#9C9C63";break;case"fighting":a="#AE2A24";break;case"flying":a="#8E6FEB";break;case"poison":a="#923A92";break;case"ground":a="#DBB54D";break;case"rock":a="#A48F32";break;case"bug":a="#97A51D";break;case"ghost":a="#644E88";break;case"steel":a="#A0A0C0";break;case"fire":a="#ED6D12";break;case"water":a="#4578ED";break;case"grass":a="#69C23D";break;case"electric":a="#F6C913";break;case"psychic":a="#F73670";break;case"ice":a="#7ECECE";break;case"dragon":a="#5D1EF7";break;case"dark":a="#644e40";break;case"fairy":a="#E87890";break;case"unknown":a="#888";break;case"shadow":a="#444"}return a}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275pipe=x.Yjl({name:"pokeTypeColor",type:l,pure:!0}),l})()},655:(K,I,_)=>{function d(t,n,i,o){var m,c=arguments.length,r=c<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,i,o);else for(var O=t.length-1;O>=0;O--)(m=t[O])&&(r=(c<3?m(r):c>3?m(n,i,r):m(n,i))||r);return c>3&&r&&Object.defineProperty(n,i,r),r}function e(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}_.d(I,{gn:()=>d,w6:()=>e})},4987:(K,I,_)=>{_.d(I,{c:()=>E,t:()=>y});var x=_(7579),Z=_(727),l=_(5e3),B=_(2722);const d=l.GuJ,e=Symbol("__destroy"),P=Symbol("__decoratorApplied");function A(s){return"string"==typeof s?Symbol(`__destroy__${s}`):e}function S(s,u){s[u]||(s[u]=new x.x)}function U(s,u){s[u]&&(s[u].next(),s[u].complete(),s[u]=null)}function w(s){s instanceof Z.w0&&s.unsubscribe()}function f(s,u){return function(){var g;if(s&&s.call(this),U(this,A()),u.arrayName)return function(s){Array.isArray(s)&&s.forEach(w)}(this[u.arrayName]);if(u.checkProperties)for(const D in this)(null===(g=u.blackList)||void 0===g?void 0:g.includes(D))||w(this[D])}}function E(s={}){return u=>{!function(s){return!!s[d]}(u)?function(s,u){s.prototype.ngOnDestroy=f(s.prototype.ngOnDestroy,u)}(u,s):function(s,u){const g=s.\u0275pipe;g.onDestroy=f(g.onDestroy,u)}(u,s),function(s){s.prototype[P]=!0}(u)}}function y(s,u){return g=>{const D=A(u);return"string"==typeof u?function(s,u,g){const D=s[u];S(s,g),s[u]=function(){D.apply(this,arguments),U(this,g),s[u]=D}}(s,u,D):S(s,D),g.pipe((0,B.R)(s[D]))}}}}]);