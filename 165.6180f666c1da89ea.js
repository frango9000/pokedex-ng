"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[165],{7236:(A,h,r)=>{r.r(h),r.d(h,{ItemModule:()=>J});var c=r(9808),v=r(2546),m=r(8624),f=r(2839),I=r(3735),s=r(4184),Z=r(6719),l=r(6370),a=r(7207),S=r(515),C=r(262),t=r(5e3);let y=(()=>{class i{constructor(e,n){this.itemService=e,this.router=n}resolve(e){var n;return this.itemService.fetchApiOne((null===(n=null==e?void 0:e.params)||void 0===n?void 0:n.item)||1).pipe((0,C.K)(()=>(this.router.navigate(["item","1"]),S.E)))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(s.e),t.LFG(a.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var F=r(727),T=r(1135),L=r(6451),M=r(8505),O=r(3900),E=r(4004),u=r(5684),P=r(4474),b=r(8342),U=r(8684),$=r(3805),N=r(2470);function D(i,o){1&i&&t._UZ(0,"pokedex-ng-filter-toolbar",6),2&i&&t.Q6J("showItemPocketFilter",!0)("showItemCategoryFilter",!0)}function G(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",12),t._UZ(2,"pokedex-ng-item-detail",13),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("itemId",e.id)}}function Y(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",7),t.NdJ("click",function(){const d=t.CHM(e).$implicit,g=t.oxw();return g.expandedItem=g.expandedItem===d.id.toString()||g.expandedItem===d.name?"":d.name}),t.TgZ(2,"td",8),t._uU(3),t.qZA(),t.TgZ(4,"td",9),t._UZ(5,"img",10),t.qZA(),t.TgZ(6,"td",8),t._uU(7),t.ALo(8,"transloco"),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA(),t.TgZ(11,"td",8),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t.TgZ(14,"td",8),t._uU(15),t.ALo(16,"transloco"),t.qZA(),t.qZA(),t.YNc(17,G,3,1,"tr",11),t.BQk()}if(2&i){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Oqu(e.id),t.xp6(2),t.MGl("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/",e.sprite,"",t.LSH),t.s9C("alt",e.sprite),t.xp6(2),t.Oqu(t.lcZ(8,8,"ITEM."+e.name+".NAME")),t.xp6(3),t.Oqu(e.cost),t.xp6(2),t.Oqu(t.lcZ(13,10,"ITEM.CATEGORY."+e.category+".NAME")),t.xp6(3),t.Oqu(t.lcZ(16,12,"ITEM.POCKET."+e.pocket+".NAME")),t.xp6(2),t.Q6J("ngIf",n.expandedItem===e.id.toString()||n.expandedItem===e.name)}}let x=(()=>{class i{constructor(e,n,p,d,g){this.itemService=e,this.filterService=n,this.languageService=p,this.appNavbarService=d,this.route=g,this.subscriptions=new F.w0,this._items$=new T.X([]),this._filterChange$=new T.X(!0),this.expandedItem="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(e=>{var n;this.expandedItem=(null===(n=null==e?void 0:e.item)||void 0===n?void 0:n.name)||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showSearchBar(),this.appNavbarService.showFiltersButton(),this.appNavbarService.showVersionGroupPicker()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getItems$(){return this._items$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe((0,M.b)(e=>e?this.offset=this.increment:this.offset+=this.increment),(0,O.w)(()=>this.itemService.getAllFiltered()),(0,E.U)(e=>e.slice(0,this.offset))).subscribe(e=>this._items$.next(e))}_filterChangesSubscription(){return(0,L.T)(this.filterService.getQueryFilter$().pipe((0,u.T)(1)),this.filterService.getItemPocketFilter$().pipe((0,u.T)(1)),this.filterService.getItemCategoryFilter$().pipe((0,u.T)(1)),this.languageService.getDisplayLanguage$().pipe((0,u.T)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.e),t.Y36(P.i),t.Y36(b.T),t.Y36(U.t),t.Y36(a.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["pokedex-ng-item-list"]],decls:22,vars:8,consts:[[1,"item-table-container","w-100","d-flex","flex-column","align-items-center"],["class","item-table",3,"showItemPocketFilter","showItemCategoryFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","item-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Item Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"item-table",3,"showItemPocketFilter","showItemCategoryFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"align-middle","py-0"],["height","40px",1,"py-0",3,"src","alt"],[4,"ngIf"],["colspan","6"],[3,"itemId"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,D,1,2,"pokedex-ng-filter-toolbar",1),t.ALo(2,"async"),t.TgZ(3,"div",2),t.NdJ("scrolled",function(){return n.renderMore()}),t.TgZ(4,"table",3),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.TgZ(7,"th",4),t._uU(8,"Id"),t.qZA(),t.TgZ(9,"th",4),t._uU(10,"Image"),t.qZA(),t.TgZ(11,"th",4),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"th",4),t._uU(14,"Cost"),t.qZA(),t.TgZ(15,"th",4),t._uU(16,"Category"),t.qZA(),t.TgZ(17,"th",4),t._uU(18,"Pocket"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"tbody"),t.YNc(20,Y,18,14,"ng-container",5),t.ALo(21,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,n.appNavbarService.getShowFilters$())),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",150),t.xp6(17),t.Q6J("ngForOf",t.lcZ(21,6,n.getItems$())))},directives:[c.O5,m.R,c.sg,$.Q,N.g],pipes:[c.Ov,v.Ot],styles:[".item-table[_ngcontent-%COMP%]{max-width:1000px}"]}),i})();const B=[{path:"",component:x},{path:":item",component:x,resolve:{item:y}}];let R=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.Bz.forChild(B)],a.Bz]}),i})(),J=(()=>{class i{constructor(e,n,p){this.itemService=e,this.itemCategoryService=n,this.itemPocketService=p}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(s.e),t.LFG(f.F),t.LFG(I.N))},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,R,l.n,m.X,Z.m,v.y4]]}),i})()},2361:(A,h,r)=>{r.d(h,{T:()=>I});var c=r(3900),v=r(45),m=r(5e3),f=r(2546);let I=(()=>{class s{constructor(l,a){this.gameVersionService=l,this.translateService=a}transform(l){return this.gameVersionService.getActiveVersionGroup$().pipe((0,c.w)(a=>this.translateService.selectTranslate(l+a)))}}return s.\u0275fac=function(l){return new(l||s)(m.Y36(v.H,16),m.Y36(f.Vn,16))},s.\u0275pipe=m.Yjl({name:"withVersionGroup",type:s,pure:!0}),s})()}}]);