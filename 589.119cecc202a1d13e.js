"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[589],{3805:(Y,O,c)=>{c.d(O,{Q:()=>G});var e=c(4650),_=c(6895),S=c(727),F=c(5698),h=c(4474),I=c(9716),P=c(529);class f extends I.bQ{constructor(i){super("generation",i),this.http=i}}f.\u0275fac=function(i){return new(i||f)(e.LFG(P.eN))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"});var d=c(2602);function m(s,i){if(1&s){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(x){const k=e.CHM(n).$implicit,E=e.oxw();return e.KtG(E.onFilterChange(x,k))}),e._uU(1),e.qZA()}if(2&s){const n=i.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.hij("Generation ",n.resource.id,"")}}class b{constructor(i,n){this.filterService=i,this.generationService=n,this.selectableGenerations=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllGenerations())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(i,n){n.active=i.checked,this.filterService.setGenerationFilter(this.selectableGenerations.filter(a=>a.active).map(a=>a.resource.id))}_subscribeToGetAllGenerations(){return this.generationService.getAll().pipe((0,F.q)(1)).subscribe(i=>{this.selectableGenerations=i.map(n=>({active:!1,resource:n})),this.subscriptions.add(this._subscribeToGetGenerationFilter())})}_subscribeToGetGenerationFilter(){return this.filterService.getGenerationFilter$().subscribe(i=>{this.selectableGenerations.forEach(n=>{n.active=i.includes(n.resource.id)})})}}b.\u0275fac=function(i){return new(i||b)(e.Y36(h.i),e.Y36(f))},b.\u0275cmp=e.Xpm({type:b,selectors:[["pokedex-ng-generation-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Generations "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,m,2,2,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.filterService.setGenerationFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("ngForOf",n.selectableGenerations))},dependencies:[_.sg,d.mT,d.b6,d.Mq,d.TO,d.bK],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]});var v=c(1150),W=c(5380),R=c(2395);function J(s,i){if(1&s){const n=e.EpF();e.ynx(0),e.TgZ(1,"mdb-checkbox",7,8),e.NdJ("change",function(x){e.CHM(n);const Z=e.oxw();return e.KtG(Z.filterService.setTypesFilterInclusiveness(x.checked))}),e.ALo(3,"async"),e.TgZ(4,"div",9),e._uU(5),e.qZA()(),e._UZ(6,"div",10),e.BQk()}if(2&s){const n=e.MAs(2),a=e.oxw();e.xp6(1),e.Q6J("checked",e.lcZ(3,2,a.filterService.getTypesFilterInclusiveness$())),e.xp6(4),e.Oqu(n.checked?"Inclusive":"Exclusive")}}const te=function(s){return{"background-color":s}};function B(s,i){if(1&s){const n=e.EpF();e.TgZ(0,"mdb-checkbox",7),e.NdJ("change",function(x){const k=e.CHM(n).$implicit,E=e.oxw();return e.KtG(E.onFilterChange(x,k))}),e.TgZ(1,"div",11),e.ALo(2,"pokeTypeColor"),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"transloco"),e.qZA()()}if(2&s){const n=i.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,te,e.lcZ(2,3,n.resource.name))),e.xp6(2),e.hij(" ",e.lcZ(4,5,e.lcZ(5,7,"TYPE."+n.resource.name+".NAME"))," ")}}class D{constructor(i,n){this.filterService=i,this.typeService=n,this.showTypesExclusivenessToggle=!1,this.selectableTypes=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllTypes())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(i,n){n.active=i.checked,this.filterService.setTypesFilter(this.selectableTypes.filter(a=>a.active).map(a=>a.resource.name))}_subscribeToGetAllTypes(){return this.typeService.getAll().pipe((0,F.q)(1)).subscribe(i=>{this.selectableTypes=i.map(n=>({resource:n,active:!1})),this.subscriptions.add(this._subscribeToGetTypesFilter())})}_subscribeToGetTypesFilter(){return this.filterService.getTypesFilter$().subscribe(i=>{this.selectableTypes.forEach(n=>{n.active=i.some(a=>a===n.resource.name)})})}}D.\u0275fac=function(i){return new(i||D)(e.Y36(h.i),e.Y36(v.S))},D.\u0275cmp=e.Xpm({type:D,selectors:[["pokedex-ng-types-filter"]],inputs:{showTypesExclusivenessToggle:"showTypesExclusivenessToggle"},decls:8,vars:2,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],[4,"ngIf"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"],["checkbox",""],[1,"checkbox-label","text-center"],[1,"divider","dropdown-divider"],[1,"text-white","px-1","rounded-lg","text-center","checkbox-label",3,"ngStyle"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Types "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,J,7,4,"ng-container",3),e.YNc(5,B,6,11,"mdb-checkbox",4),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.filterService.setTypesFilter([])}),e._UZ(7,"i",6),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("ngIf",n.showTypesExclusivenessToggle),e.xp6(1),e.Q6J("ngForOf",n.selectableTypes))},dependencies:[_.sg,_.O5,_.PC,d.mT,d.b6,d.Mq,d.TO,d.bK,_.Ov,_.gd,W.Ot,R.g],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]});class w{constructor(i){this.filterService=i}}w.\u0275fac=function(i){return new(i||w)(e.Y36(h.i))},w.\u0275cmp=e.Xpm({type:w,selectors:[["pokedex-ng-clear-filter"]],decls:2,vars:0,consts:[["mdbBtn","","type","button","color","primary","mdbWavesEffect","","size","sm",1,"px-3","m-0",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(i,n){1&i&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return n.filterService.clearAllFilters()}),e._UZ(1,"i",1),e.qZA())},dependencies:[d.mT,d.b6]});var L=c(2839);function z(s,i){if(1&s){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(x){const k=e.CHM(n).$implicit,E=e.oxw();return e.KtG(E.onFilterChange(x,k))}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&s){const n=i.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.CATEGORY."+n.resource.name+".NAME"))}}class M{constructor(i,n){this.filterService=i,this.itemCategoryService=n,this.selectableItemCategories=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemCategories())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(i,n){n.active=i.checked,this.filterService.setItemCategoryFilter(this.selectableItemCategories.filter(a=>a.active).map(a=>a.resource.name))}_subscribeToGetAllItemCategories(){return this.itemCategoryService.getAll().pipe((0,F.q)(1)).subscribe(i=>{this.selectableItemCategories=i.map(n=>({active:!1,resource:n})),this.subscriptions.add(this._subscribeToGetItemCategoryFilter())})}_subscribeToGetItemCategoryFilter(){return this.filterService.getItemCategoryFilter$().subscribe(i=>{this.selectableItemCategories.forEach(n=>{n.active=i.includes(n.resource.name)})})}}M.\u0275fac=function(i){return new(i||M)(e.Y36(h.i),e.Y36(L.F))},M.\u0275cmp=e.Xpm({type:M,selectors:[["pokedex-ng-item-category-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-2",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-2",3,"checked","change"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Categories "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,z,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.filterService.setItemCategoryFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("ngForOf",n.selectableItemCategories))},dependencies:[_.sg,d.mT,d.b6,d.Mq,d.TO,d.bK,W.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]});var Q=c(3735);function $(s,i){if(1&s){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(x){const k=e.CHM(n).$implicit,E=e.oxw();return e.KtG(E.onFilterChange(x,k))}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&s){const n=i.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.POCKET."+n.resource.name+".NAME"))}}class A{constructor(i,n){this.filterService=i,this.itemPocketService=n,this.selectableItemPockets=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemPockets())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(i,n){n.active=i.checked,this.filterService.setItemPocketFilter(this.selectableItemPockets.filter(a=>a.active).map(a=>a.resource.name))}_subscribeToGetAllItemPockets(){return this.itemPocketService.getAll().pipe((0,F.q)(1)).subscribe(i=>{this.selectableItemPockets=i.map(n=>({active:!1,resource:n})),this.subscriptions.add(this._subscribeToGetItemPocketFilter())})}_subscribeToGetItemPocketFilter(){return this.filterService.getItemPocketFilter$().subscribe(i=>{this.selectableItemPockets.forEach(n=>{n.active=i.includes(n.resource.name)})})}}function j(s,i){1&s&&e._UZ(0,"pokedex-ng-generation-filter",4)}function X(s,i){if(1&s&&e._UZ(0,"pokedex-ng-types-filter",5),2&s){const n=e.oxw();e.Q6J("showTypesExclusivenessToggle",n.showTypesExclusivenessToggle)}}function K(s,i){1&s&&e._UZ(0,"pokedex-ng-item-pocket-filter",4)}function H(s,i){1&s&&e._UZ(0,"pokedex-ng-item-category-filter",4)}function V(s,i){1&s&&e._UZ(0,"pokedex-ng-clear-filter")}A.\u0275fac=function(i){return new(i||A)(e.Y36(h.i),e.Y36(Q.N))},A.\u0275cmp=e.Xpm({type:A,selectors:[["pokedex-ng-item-pocket-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Pockets "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,$,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.filterService.setItemPocketFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("ngForOf",n.selectableItemPockets))},dependencies:[_.sg,d.mT,d.b6,d.Mq,d.TO,d.bK,W.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding:4px 4px 4px 28px}"]});class G{constructor(){this.showTypesFilter=!1,this.showTypesExclusivenessToggle=!1,this.showGenerationFilter=!1,this.showItemPocketFilter=!1,this.showItemCategoryFilter=!1,this.showClearFilter=!0}}G.\u0275fac=function(i){return new(i||G)},G.\u0275cmp=e.Xpm({type:G,selectors:[["pokedex-ng-filter-toolbar"]],inputs:{showTypesFilter:"showTypesFilter",showTypesExclusivenessToggle:"showTypesExclusivenessToggle",showGenerationFilter:"showGenerationFilter",showItemPocketFilter:"showItemPocketFilter",showItemCategoryFilter:"showItemCategoryFilter",showClearFilter:"showClearFilter"},decls:6,vars:5,consts:[[1,"pokemon-list-filters","d-flex","flex-wrap","align-items-center","justify-content-end","w-100","mb-1"],["class","mr-1",4,"ngIf"],["class","mr-1",3,"showTypesExclusivenessToggle",4,"ngIf"],[4,"ngIf"],[1,"mr-1"],[1,"mr-1",3,"showTypesExclusivenessToggle"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.YNc(1,j,1,0,"pokedex-ng-generation-filter",1),e.YNc(2,X,1,1,"pokedex-ng-types-filter",2),e.YNc(3,K,1,0,"pokedex-ng-item-pocket-filter",1),e.YNc(4,H,1,0,"pokedex-ng-item-category-filter",1),e.YNc(5,V,1,0,"pokedex-ng-clear-filter",3),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",n.showGenerationFilter),e.xp6(1),e.Q6J("ngIf",n.showTypesFilter),e.xp6(1),e.Q6J("ngIf",n.showItemPocketFilter),e.xp6(1),e.Q6J("ngIf",n.showItemCategoryFilter),e.xp6(1),e.Q6J("ngIf",n.showClearFilter))},dependencies:[_.O5,b,D,w,M,A],styles:["[_nghost-%COMP%]{width:100%}"]})},2839:(Y,O,c)=>{c.d(O,{F:()=>f});var e=c(3903),_=c(9646),S=c(9716),F=c(8342),h=c(4650),I=c(529),P=c(5380);class f extends S.cm{constructor(m,b,v){super("item-category",m,b,v),this.http=m,this.translocoService=b,this.languageService=v}_parseAllTranslations(m){return(0,_.of)(e.Jh.ofMultipleResources(m,"names",(b,v)=>({key:v.language,object:{ITEM:{CATEGORY:{[b.name]:{NAME:v.name}}}}})))}}f.\u0275fac=function(m){return new(m||f)(h.LFG(I.eN),h.LFG(P.Vn),h.LFG(F.T))},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})},3735:(Y,O,c)=>{c.d(O,{N:()=>f});var e=c(3903),_=c(9646),S=c(9716),F=c(8342),h=c(4650),I=c(529),P=c(5380);class f extends S.cm{constructor(m,b,v){super("item-pocket",m,b,v),this.http=m,this.translocoService=b,this.languageService=v}_parseAllTranslations(m){return(0,_.of)(e.Jh.ofMultipleResources(m,"names",(b,v)=>({key:v.language,object:{ITEM:{POCKET:{[b.name]:{NAME:v.name}}}}})))}}f.\u0275fac=function(m){return new(m||f)(h.LFG(I.eN),h.LFG(P.Vn),h.LFG(F.T))},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})},7296:(Y,O,c)=>{c.d(O,{Ry:()=>de,Rq:()=>fe});var e=c(4650),_=c(9646),S=c(4968),F=c(5577),h=c(4004),I=c(8505),P=c(9300),f=c(4986),d=c(4482),m=c(5403),b=c(8421);const v={leading:!0,trailing:!1};var R=c(5963);function B(t,o,r,l){const p=window&&!!window.document&&window.document.documentElement;let u=p&&o?window:r;if(t&&(u=t&&p&&"string"==typeof t?function D(t,o,r){return(r?window.document:o).querySelector(t)}(t,r.nativeElement,l):t,!u))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return u}function w(t){return t&&!t.firstChange}const z={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},M={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class Q{constructor(o=!0){this.vertical=o,this.propsMap=o?z:M}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function X(t){return["Window","global"].some(r=>Object.prototype.toString.call(t).includes(r))}function K(t,o){return t?o.document.documentElement:null}function H(t,o){const r=function i({container:t,isWindow:o,axis:r}){const{offsetHeightKey:l,clientHeightKey:p}=s(r);return n(t,o,l,p)}(o);return o.isWindow?function V(t,o,r){const{axis:l,container:p,isWindow:u}=r,{offsetHeightKey:g,clientHeightKey:C}=s(l),T=t+x(K(u,p),l,u),y=n(o.nativeElement,u,g,C),N=function a(t,o,r){const l=o.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[l]+x(t,o,r)}(o.nativeElement,l,u)+y;return{height:t,scrolled:T,totalToScroll:N,isWindow:u}}(r,t,o):function G(t,o,r){const{axis:l,container:p}=r;return{height:t,scrolled:p[l.scrollTopKey()],totalToScroll:p[l.scrollHeightKey()],isWindow:!1}}(r,0,o)}function s(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function n(t,o,r,l){if(isNaN(t[r])){const p=K(o,t);return p?p[l]:0}return t[r]}function x(t,o,r){const l=o.pageYOffsetKey(),p=o.scrollTopKey(),u=o.offsetTopKey();return isNaN(window.pageYOffset)?K(r,t)[p]:t.ownerDocument?t.ownerDocument.defaultView[l]:t[u]}function Z(t,o={down:0,up:0},r){let l,p;if(t.totalToScroll<=0)return!1;const u=t.isWindow?t.scrolled:t.height+t.scrolled;return r?(l=(t.totalToScroll-u)/t.totalToScroll,p=(o?.down?o.down:0)/10):(l=t.scrolled/(t.scrolled+(t.totalToScroll-u)),p=(o?.up?o.up:0)/10),l<=p}class se{constructor({totalToScroll:o}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=o}updateScrollPosition(o){return this.lastScrollPosition=o}updateTotalToScroll(o){this.lastTotalToScroll!==o&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=o)}updateScroll(o,r){this.updateScrollPosition(o),this.updateTotalToScroll(r)}updateTriggeredFlag(o,r){r?this.triggered.down=o:this.triggered.up=o}isTriggeredScroll(o,r){return r?this.triggered.down===o:this.triggered.up===o}}function le(t){const{scrollContainer:o,scrollWindow:r,element:l,fromRoot:p}=t,u=function A({windowElement:t,axis:o}){return function j(t,o){const r=t.isWindow||o&&!o.nativeElement?o:o.nativeElement;return{...t,container:r}}({axis:o,isWindow:X(t)},t)}({axis:new Q(!t.horizontal),windowElement:B(o,r,l,p)}),g=new se({totalToScroll:H(l,u)}),T={up:t.upDistance,down:t.downDistance};return function ce(t){let o=(0,S.R)(t.container,"scroll");return t.throttle&&(o=o.pipe(function J(t,o=f.z,r=v){const l=(0,R.H)(t,o);return function W(t,o=v){return(0,d.e)((r,l)=>{const{leading:p,trailing:u}=o;let g=!1,C=null,T=null,y=!1;const N=()=>{T?.unsubscribe(),T=null,u&&(ne(),y&&l.complete())},ee=()=>{T=null,y&&l.complete()},oe=U=>T=(0,b.Xf)(t(U)).subscribe((0,m.x)(l,N,ee)),ne=()=>{if(g){g=!1;const U=C;C=null,l.next(U),!y&&oe(U)}};r.subscribe((0,m.x)(l,U=>{g=!0,C=U,(!T||T.closed)&&(p?ne():oe(U))},()=>{y=!0,(!(u&&g&&T)||T.closed)&&l.complete()}))})}(()=>l,r)}(t.throttle,void 0,{leading:!0,trailing:!0}))),o}({container:u.container,throttle:t.throttle}).pipe((0,F.z)(()=>(0,_.of)(H(l,u))),(0,h.U)(y=>function ae(t,o,r){const{scrollDown:l,fire:p}=function E(t,o,r){const l=function k(t,o){return t<o.scrolled}(t,o);return{fire:Z(o,r,l),scrollDown:l}}(t,o,r);return{scrollDown:l,fire:p,stats:o}}(g.lastScrollPosition,y,T)),(0,I.b)(({stats:y})=>g.updateScroll(y.scrolled,y.totalToScroll)),(0,P.h)(({fire:y,scrollDown:N,stats:{totalToScroll:ee}})=>function $(t,o,r){return!!(t&&o||!r&&o)}(t.alwaysCallback,y,g.isTriggeredScroll(ee,N))),(0,I.b)(({scrollDown:y,stats:{totalToScroll:N}})=>{g.updateTriggeredFlag(N,y)}),(0,h.U)(pe))}function pe(t){const{scrollDown:o,stats:{scrolled:r}}=t;return{type:o?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:r}}}let de=(()=>{class t{constructor(r,l){this.element=r,this.zone=l,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:r,infiniteScrollDisabled:l,infiniteScrollDistance:p}){const u=w(r),g=w(l),C=w(p),T=!g&&!this.infiniteScrollDisabled||g&&!l.currentValue||C;(u||g||C)&&(this.destroyScroller(),T&&this.setup())}setup(){(function L(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=le({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(r=>this.handleOnScroll(r))})}handleOnScroll({type:r,payload:l}){const p="[NGX_ISE] DOWN"===r?this.scrolled:this.scrolledUp;(function ue(t){return t.observed??t.observers.length>0})(p)&&this.zone.run(()=>p.emit(l))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(e.SBq),e.Y36(e.R0b))},t.\u0275dir=e.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),t})(),fe=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})()}}]);