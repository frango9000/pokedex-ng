"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[493],{8808:(w,M,s)=>{s.d(M,{z:()=>l});var D=s(655),x=s(4766),o=s(1135),O=s(3900),c=s(4004),n=s(1150),e=s(4650);function y(_,d){if(1&_&&e._UZ(0,"pokedex-ng-types-pill",6),2&_){const a=d.ngIf,f=e.oxw(2);e.Q6J("clickable",f.clickableTitle)("types",a)("size",18)}}function h(_,d){if(1&_&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17)(3,"strong",18),e._uU(4),e.qZA()()()),2&_){const a=d.$implicit,f=e.oxw(3);e.xp6(1),e.Q6J("clickable",f.clickableEntries)("type",a.name)("inline",!1),e.xp6(3),e.hij("x",a.multiplier,"")}}function E(_,d){if(1&_&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17)(3,"strong",19),e._uU(4),e.qZA()()()),2&_){const a=d.$implicit,f=e.oxw(3);e.xp6(1),e.Q6J("clickable",f.clickableEntries)("type",a.name)("inline",!1),e.xp6(3),e.hij("x",a.multiplier,"")}}function b(_,d){if(1&_&&(e.ynx(0,7),e.TgZ(1,"div",8)(2,"div",9),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",10)(6,"div",11)(7,"h6",12),e._uU(8),e.ALo(9,"transloco"),e.qZA(),e._UZ(10,"span",13),e.qZA(),e.YNc(11,h,5,4,"div",14),e.qZA(),e.TgZ(12,"div",10)(13,"div",11)(14,"h6",12),e._uU(15),e.ALo(16,"transloco"),e.qZA(),e._UZ(17,"span",13),e.qZA(),e.YNc(18,E,5,4,"div",14),e.qZA()(),e.BQk()),2&_){const a=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,5,"UI.TYPE_DAMAGES.CONTEXT.ATTACKING")),e.xp6(5),e.Oqu(e.lcZ(9,7,"UI.TYPE_DAMAGES.WEAKNESSES")),e.xp6(3),e.Q6J("ngForOf",a.attacking.weaknesses),e.xp6(4),e.Oqu(e.lcZ(16,9,"UI.TYPE_DAMAGES.STRENGTHS")),e.xp6(3),e.Q6J("ngForOf",a.attacking.strengths)}}function U(_,d){1&_&&e._UZ(0,"div",1)}function T(_,d){if(1&_&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17)(3,"strong",18),e._uU(4),e.qZA()()()),2&_){const a=d.$implicit,f=e.oxw(3);e.xp6(1),e.Q6J("clickable",f.clickableEntries)("type",a.name)("inline",!1),e.xp6(3),e.hij("x",a.multiplier,"")}}function v(_,d){if(1&_&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17)(3,"strong",21),e._uU(4),e.qZA()()()),2&_){const a=d.$implicit,f=e.oxw(3);e.xp6(1),e.Q6J("clickable",f.clickableEntries)("type",a.name)("inline",!1),e.xp6(3),e.hij("x",a.multiplier,"")}}function r(_,d){if(1&_&&(e.ynx(0),e.YNc(1,U,1,0,"div",20),e.TgZ(2,"div",8)(3,"div",9),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",10)(7,"div",11)(8,"h6",12),e._uU(9),e.ALo(10,"transloco"),e.qZA(),e._UZ(11,"span",13),e.qZA(),e.YNc(12,T,5,4,"div",14),e.qZA(),e.TgZ(13,"div",10)(14,"div",11)(15,"h6",12),e._uU(16),e.ALo(17,"transloco"),e.qZA(),e._UZ(18,"span",13),e.qZA(),e.YNc(19,v,5,4,"div",14),e.qZA()(),e.BQk()),2&_){const a=e.oxw().ngIf,f=e.oxw();e.xp6(1),e.Q6J("ngIf",f.showAttacking&&(null==a?null:a.attacking)),e.xp6(3),e.Oqu(e.lcZ(5,6,"UI.TYPE_DAMAGES.CONTEXT.DEFENDING")),e.xp6(5),e.Oqu(e.lcZ(10,8,"UI.TYPE_DAMAGES.WEAKNESSES")),e.xp6(3),e.Q6J("ngForOf",a.defending.weaknesses),e.xp6(4),e.Oqu(e.lcZ(17,10,"UI.TYPE_DAMAGES.RESISTANCES")),e.xp6(3),e.Q6J("ngForOf",a.defending.resistances)}}function u(_,d){if(1&_&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,y,1,3,"pokedex-ng-types-pill",3),e.ALo(4,"async"),e.qZA()(),e.YNc(5,b,19,11,"ng-container",4),e.YNc(6,r,20,12,"ng-container",0),e._UZ(7,"div",5),e.BQk()),2&_){const a=d.ngIf,f=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,f.types$)),e.xp6(2),e.Q6J("ngIf",f.showAttacking&&(null==a?null:a.attacking)),e.xp6(1),e.Q6J("ngIf",f.showDefending&&(null==a?null:a.defending))}}let l=class{constructor(d){this.typeService=d,this._typeDamages$=new o.X(null),this.showDefending=!1,this.showAttacking=!1,this.clickableTitle=!1,this.clickableEntries=!1}ngOnInit(){this.types$.pipe((0,x.t)(this),(0,O.w)(d=>this.typeService.getAll().pipe((0,c.U)(a=>this.generateTypeDamages(d,a))))).subscribe()}getTypeDamages$(){return this._typeDamages$.asObservable()}generateTypeDamages(d,a){const f=d.map(m=>a.find(C=>C.name===m));let k=a.map(m=>({name:m.name,multiplier:1}));f.forEach(m=>{m.damage_relations.double_damage_from.forEach(C=>{const A=k.findIndex(P=>P.name===C);k[A].multiplier*=2}),m.damage_relations.half_damage_from.forEach(C=>{const A=k.findIndex(P=>P.name===C);k[A].multiplier*=.5}),m.damage_relations.no_damage_from.forEach(C=>{const A=k.findIndex(P=>P.name===C);k[A].multiplier*=0})}),k=k.filter(m=>1!==m.multiplier);let I=a.map(m=>({name:m.name,multiplier:1}));f.forEach(m=>{m.damage_relations.double_damage_to.forEach(C=>{const A=I.findIndex(P=>P.name===C);I[A].multiplier*=2}),m.damage_relations.half_damage_to.forEach(C=>{const A=I.findIndex(P=>P.name===C);I[A].multiplier*=.5}),m.damage_relations.no_damage_to.forEach(C=>{const A=I.findIndex(P=>P.name===C);I[A].multiplier*=0})}),I=I.filter(m=>1!==m.multiplier),this._typeDamages$.next({attacking:{weaknesses:I.filter(m=>m.multiplier<1),strengths:I.filter(m=>m.multiplier>1)},defending:{weaknesses:k.filter(m=>m.multiplier>1),resistances:k.filter(m=>m.multiplier<1)}})}};l.\u0275fac=function(d){return new(d||l)(e.Y36(n.S))},l.\u0275cmp=e.Xpm({type:l,selectors:[["pokedex-ng-type-damages"]],inputs:{types$:"types$",showDefending:"showDefending",showAttacking:"showAttacking",clickableTitle:"clickableTitle",clickableEntries:"clickableEntries"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"pt-3"],[1,"m-3","d-flex","justify-content-center"],[3,"clickable","types","size",4,"ngIf"],["class","pt-1",4,"ngIf"],[1,"pb-3"],[3,"clickable","types","size"],[1,"pt-1"],[1,"row","m-1","text-center"],[1,"col-12","font-weight-bold"],[1,"col-12","col-sm-6"],[1,"row"],[1,"col-9"],[1,"col-3"],["class","row my-1",4,"ngFor","ngForOf"],[1,"row","my-1"],[1,"col-9",3,"clickable","type","inline"],[1,"col-3","text-left","px-0","pl-4","pl-sm-2"],[1,"weakness-multiplier"],[1,"strength-multiplier"],["class","pt-3",4,"ngIf"],[1,"resistance-multiplier"]],template:function(d,a){1&d&&(e.YNc(0,u,8,5,"ng-container",0),e.ALo(1,"async")),2&d&&e.Q6J("ngIf",e.lcZ(1,1,a.getTypeDamages$()))},styles:[".weakness-multiplier[_ngcontent-%COMP%]{color:#e70000;font-weight:700}.resistance-multiplier[_ngcontent-%COMP%], .strength-multiplier[_ngcontent-%COMP%]{color:#00e700;font-weight:700}"]}),l=(0,D.gn)([(0,x.c)(),(0,D.w6)("design:paramtypes",[n.S])],l)},493:(w,M,s)=>{s.d(M,{Q:()=>y});var D=s(6895),x=s(5380),o=s(6719),O=s(8808),c=s(9168),n=s(7400),e=s(4650);let y=(()=>{class h{}return h.\u0275fac=function(b){return new(b||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[D.ez,x.y4,o.m]}),h})();e.B6R(O.z,[D.sg,D.O5,c.D,n.w],[D.Ov,x.Ot])},9168:(w,M,s)=>{s.d(M,{D:()=>T});var D=s(655),x=s(4766),o=s(5075),O=s(9646),c=s(8808),n=s(4650),e=s(6895),y=s(5380),h=s(2395);const E=function(v,r,u){return{"background-color":v,color:"white","font-size":r,"border-radius":u}},b=function(v,r){return{"rotate-90":v,"inline-type":r}};function U(v,r){if(1&v){const u=n.EpF();n.TgZ(0,"div",1),n.NdJ("click",function(){n.CHM(u);const _=n.oxw();return n.KtG(_.onClick())}),n.ALo(1,"pokeTypeColor"),n._uU(2),n.ALo(3,"uppercase"),n.ALo(4,"transloco"),n.qZA()}if(2&v){const u=n.oxw();n.Q6J("ngStyle",n.kEZ(9,E,n.lcZ(1,3,u.type),u.size+"px",u.size/2+"px"))("ngClass",n.WLB(13,b,u.vertical,u.inline)),n.xp6(2),n.hij(" ",n.lcZ(3,5,n.lcZ(4,7,"TYPE."+u.type+".NAME")),"\n")}}let T=class{constructor(r){this.modalService=r,this.size=16,this.vertical=!1,this.inline=!0,this.clickable=!0,this.showDefending=!0,this.showAttacking=!0}onClick(){this.clickable&&this.modalService.show(c.z,{class:"modal-dialog-centered",data:{showDefending:this.showDefending,showAttacking:this.showAttacking,types$:(0,O.of)([this.type])}})}};T.\u0275fac=function(r){return new(r||T)(n.Y36(o.yU))},T.\u0275cmp=n.Xpm({type:T,selectors:[["pokedex-ng-type-pill"]],inputs:{type:"type",size:"size",vertical:"vertical",inline:"inline",clickable:"clickable",showDefending:"showDefending",showAttacking:"showAttacking"},decls:1,vars:1,consts:[["class","cursor-pointer text-center rounded-lg",3,"ngStyle","ngClass","click",4,"ngIf"],[1,"cursor-pointer","text-center","rounded-lg",3,"ngStyle","ngClass","click"]],template:function(r,u){1&r&&n.YNc(0,U,5,16,"div",0),2&r&&n.Q6J("ngIf",u.type)},dependencies:[e.mk,e.O5,e.PC,e.gd,y.Ot,h.g],styles:["[_nghost-%COMP%]{display:inline}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{padding:2px 6px;font-weight:700}[_nghost-%COMP%]   div.inline-type[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]   div.rotate-90[_ngcontent-%COMP%]{padding:6px 0;white-space:nowrap;position:relative;writing-mode:vertical-rl;transform:rotate(180deg);display:inline-block;overflow:visible}"]}),T=(0,D.gn)([(0,x.c)(),(0,D.w6)("design:paramtypes",[o.yU])],T)},7400:(w,M,s)=>{s.d(M,{w:()=>v});var D=s(9646),x=s(8808),o=s(4650),O=s(5075),c=s(6895),n=s(9168),e=s(2395);function y(r,u){if(1&r&&o._UZ(0,"pokedex-ng-type-pill",3),2&r){const l=o.oxw(2);o.Q6J("type",l.types[0])("size",l.size)("clickable",!1)("inline",l.inline)("vertical",l.vertical)}}function h(r,u){if(1&r&&o._UZ(0,"pokedex-ng-type-pill",3),2&r){const l=o.oxw(3);o.Q6J("type",l.types[1])("size",l.size)("clickable",!1)("inline",l.inline)("vertical",l.vertical)}}const E=function(r,u){return{"background-color":r,"border-radius":u}},b=function(r){return{"font-size":r}};function U(r,u){if(1&r&&(o.ynx(0),o.TgZ(1,"div",4),o.ALo(2,"pokeTypeColor"),o._UZ(3,"i",5),o.qZA(),o.YNc(4,h,1,5,"pokedex-ng-type-pill",2),o.BQk()),2&r){const l=o.oxw(2);o.xp6(1),o.Q6J("ngStyle",o.WLB(7,E,o.Dn7(2,3,l.types[0],!1,l.types[1]),l.size/3+"px")),o.xp6(2),o.Q6J("ngStyle",o.VKq(10,b,.6*l.size+"px")),o.xp6(1),o.Q6J("ngIf",!l.hideSecondType)}}function T(r,u){if(1&r){const l=o.EpF();o.ynx(0),o.TgZ(1,"div",1),o.NdJ("click",function(){o.CHM(l);const d=o.oxw();return o.KtG(d.onClick())}),o.YNc(2,y,1,5,"pokedex-ng-type-pill",2),o.YNc(3,U,5,12,"ng-container",0),o.qZA(),o.BQk()}if(2&r){const l=o.oxw();o.xp6(2),o.Q6J("ngIf",!l.hideFirstType),o.xp6(1),o.Q6J("ngIf",l.types.length>1)}}let v=(()=>{class r{constructor(l){this.modalService=l,this.types=[],this.size=16,this.vertical=!1,this.inline=!0,this.clickable=!0,this.hideFirstType=!1,this.hideSecondType=!1}onClick(){this.clickable&&this.modalService.show(x.z,{class:"modal-dialog-centered",data:{showDefending:!0,showAttacking:!1,types$:(0,D.of)([...this.types])}})}}return r.\u0275fac=function(l){return new(l||r)(o.Y36(O.yU))},r.\u0275cmp=o.Xpm({type:r,selectors:[["pokedex-ng-types-pill"]],inputs:{types:"types",size:"size",vertical:"vertical",inline:"inline",clickable:"clickable",hideFirstType:"hideFirstType",hideSecondType:"hideSecondType"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"types-pill",3,"click"],[3,"type","size","clickable","inline","vertical",4,"ngIf"],[3,"type","size","clickable","inline","vertical"],[1,"type-merge",3,"ngStyle"],[1,"fa-solid","fa-shuffle","type-merge-icon",3,"ngStyle"]],template:function(l,_){1&l&&o.YNc(0,T,4,2,"ng-container",0),2&l&&o.Q6J("ngIf",_.types.length)},dependencies:[c.O5,c.PC,n.D,e.g],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline}[_nghost-%COMP%]   div.types-pill[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}[_nghost-%COMP%]   div.types-pill[_ngcontent-%COMP%]   div.type-merge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;height:100%;margin:0 3px}[_nghost-%COMP%]   div.types-pill[_ngcontent-%COMP%]   div.type-merge[_ngcontent-%COMP%]   .type-merge-icon[_ngcontent-%COMP%]{padding:4px;transform:rotate(-90deg);color:#fff}"]}),r})()},2395:(w,M,s)=>{s.d(M,{g:()=>x});var D=s(4650);let x=(()=>{class o{transform(c,n=!1,e=""){let y=this.getTypeColor(c);if(e?.length){const h=this.getTypeColor(e);y=this.blendColors(y,h)}return n?this.invertColor(y):y}invertColor(c){if(0===c.indexOf("#")&&(c=c.slice(1)),3===c.length&&(c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]),6!==c.length)throw new Error("Invalid HEX color.");const n=(255-parseInt(c.slice(0,2),16)).toString(16),e=(255-parseInt(c.slice(2,4),16)).toString(16),y=(255-parseInt(c.slice(4,6),16)).toString(16);return"#"+this.padZero(n)+this.padZero(e)+this.padZero(y)}padZero(c,n){return n=n||2,(new Array(n).join("0")+c).slice(-n)}blendColors(c,n,e=.5){const[y,h,E]=c.match(/\w\w/g).map(l=>parseInt(l,16)),[b,U,T]=n.match(/\w\w/g).map(l=>parseInt(l,16));return"#"+Math.round(y+(b-y)*e).toString(16).padStart(2,"0")+Math.round(h+(U-h)*e).toString(16).padStart(2,"0")+Math.round(E+(T-E)*e).toString(16).padStart(2,"0")}getTypeColor(c){let n="#000";switch(c){case"normal":n="#9C9C63";break;case"fighting":n="#AE2A24";break;case"flying":n="#8E6FEB";break;case"poison":n="#923A92";break;case"ground":n="#DBB54D";break;case"rock":n="#A48F32";break;case"bug":n="#97A51D";break;case"ghost":n="#644E88";break;case"steel":n="#A0A0C0";break;case"fire":n="#ED6D12";break;case"water":n="#4578ED";break;case"grass":n="#69C23D";break;case"electric":n="#F6C913";break;case"psychic":n="#F73670";break;case"ice":n="#7ECECE";break;case"dragon":n="#5D1EF7";break;case"dark":n="#644e40";break;case"fairy":n="#E87890";break;case"unknown":n="#888";break;case"shadow":n="#444"}return n}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275pipe=D.Yjl({name:"pokeTypeColor",type:o,pure:!0}),o})()},4766:(w,M,s)=>{s.d(M,{c:()=>G,t:()=>V});var D=s(4408);let o,x=1;const O={};function c(i){return i in O&&(delete O[i],!0)}const n={setImmediate(i){const t=x++;return O[t]=!0,o||(o=Promise.resolve()),o.then(()=>c(t)&&i()),t},clearImmediate(i){c(i)}},{setImmediate:y,clearImmediate:h}=n,E={setImmediate(...i){const{delegate:t}=E;return(t?.setImmediate||y)(...i)},clearImmediate(i){const{delegate:t}=E;return(t?.clearImmediate||h)(i)},delegate:void 0};var U=s(7565);new class T extends U.v{flush(t){this._active=!0;const p=this._scheduled;this._scheduled=void 0;const{actions:g}=this;let Z;t=t||g.shift();do{if(Z=t.execute(t.state,t.delay))break}while((t=g[0])&&t.id===p&&g.shift());if(this._active=!1,Z){for(;(t=g[0])&&t.id===p&&g.shift();)t.unsubscribe();throw Z}}}(class b extends D.o{constructor(t,p){super(t,p),this.scheduler=t,this.work=p}requestAsyncId(t,p,g=0){return null!==g&&g>0?super.requestAsyncId(t,p,g):(t.actions.push(this),t._scheduled||(t._scheduled=E.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,p,g=0){if(null!=g&&g>0||null==g&&this.delay>0)return super.recycleAsyncId(t,p,g);t.actions.some(Z=>Z.id===p)||(E.clearImmediate(p),t._scheduled=void 0)}});var u=s(7579),l=s(727),a=(s(457),s(515),s(4650)),m=(s(5577),s(5363),s(262),s(2722));const C=a.GuJ,P=Symbol("__destroy"),B=Symbol("__decoratorApplied");function L(i){return"string"==typeof i?Symbol(`__destroy__${i}`):P}function K(i,t){i[t]||(i[t]=new u.x)}function R(i,t){i[t]&&(i[t].next(),i[t].complete(),i[t]=null)}function W(i){i instanceof l.w0&&i.unsubscribe()}function Q(i,t){return function(){if(i&&i.call(this),R(this,L()),t.arrayName&&function F(i){Array.isArray(i)&&i.forEach(W)}(this[t.arrayName]),t.checkProperties)for(const g in this){var p;null!==(p=t.blackList)&&void 0!==p&&p.includes(g)||W(this[g])}}}function G(i={}){return t=>{!function A(i){return!!i[C]}(t)?function $(i,t){i.prototype.ngOnDestroy=Q(i.prototype.ngOnDestroy,t)}(t,i):function j(i,t){const p=i.\u0275pipe;p.onDestroy=Q(p.onDestroy,t)}(t,i),function Y(i){i.prototype[B]=!0}(t)}}function V(i,t){return p=>{const g=L(t);return"string"==typeof t?function X(i,t,p){const g=i[t];K(i,p),i[t]=function(){g.apply(this,arguments),R(this,p),i[t]=g}}(i,t,g):K(i,g),p.pipe((0,m.R)(i[g]))}}Symbol("CheckerHasBeenSet")}}]);