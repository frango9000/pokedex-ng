"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[814],{7814:(P,g,n)=>{n.r(g),n.d(g,{MoveModule:()=>R});var s=n(9808),u=n(2546),h=n(8624),p=n(8996),Z=n(1150),T=n(6719),x=n(8981),c=n(7207),M=n(515),A=n(262),e=n(5e3);let S=(()=>{class o{constructor(t,i){this.moveService=t,this.router=i}resolve(t){var i;return this.moveService.fetchApiOne((null===(i=null==t?void 0:t.params)||void 0===i?void 0:i.move)||1).pipe((0,A.K)(()=>(this.router.navigate(["move","1"]),M.E)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(p.q),e.LFG(c.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=n(727),m=n(1135),F=n(6451),C=n(8505),b=n(3900),L=n(4004),v=n(5684),O=n(4474),U=n(8342),$=n(8684),N=n(3805),J=n(4209),Q=n(2395);function q(o,r){1&o&&e._UZ(0,"pokedex-ng-filter-toolbar",6),2&o&&e.Q6J("showGenerationFilter",!0)("showTypesFilter",!0)}function Y(o,r){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",12),e._UZ(2,"pokedex-ng-move-detail",13),e.qZA(),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("moveId",t.id)}}const G=function(o){return{"background-color":o}};function I(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",7),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return a.expandedMove=a.expandedMove===l.id.toString()||a.expandedMove===l.name?"":l.name}),e.TgZ(2,"td",8),e._uU(3),e.qZA(),e.TgZ(4,"td",8),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"td",8),e._uU(8),e.qZA(),e.TgZ(9,"td",9),e.TgZ(10,"span",10),e.ALo(11,"pokeTypeColor"),e._uU(12),e.ALo(13,"uppercase"),e.ALo(14,"transloco"),e.qZA(),e.qZA(),e.TgZ(15,"td",8),e._uU(16),e.qZA(),e.TgZ(17,"td",8),e._uU(18),e.qZA(),e.TgZ(19,"td",8),e._uU(20),e.qZA(),e.qZA(),e.YNc(21,Y,3,1,"tr",11),e.BQk()}if(2&o){const t=r.$implicit,i=e.oxw();e.xp6(3),e.Oqu(t.id),e.xp6(2),e.Oqu(e.lcZ(6,9,"MOVE."+t.name+".NAME")),e.xp6(3),e.Oqu(t.generation),e.xp6(2),e.Q6J("ngStyle",e.VKq(17,G,e.lcZ(11,11,t.type))),e.xp6(2),e.Oqu(e.lcZ(13,13,e.lcZ(14,15,"TYPE."+t.type+".NAME"))),e.xp6(4),e.Oqu(t.power),e.xp6(2),e.Oqu(t.pp),e.xp6(2),e.Oqu(t.accuracy),e.xp6(1),e.Q6J("ngIf",i.expandedMove===t.id.toString()||i.expandedMove===t.name)}}let f=(()=>{class o{constructor(t,i,d,l,a){this.moveService=t,this.filterService=i,this.languageService=d,this.appNavbarService=l,this.route=a,this.subscriptions=new y.w0,this._moves$=new m.X([]),this._filterChange$=new m.X(!0),this.expandedMove="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(t=>{var i;this.expandedMove=(null===(i=null==t?void 0:t.move)||void 0===i?void 0:i.name)||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showSearchBar(),this.appNavbarService.showFiltersButton()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getMoves$(){return this._moves$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe((0,C.b)(t=>t?this.offset=this.increment:this.offset+=this.increment),(0,b.w)(()=>this.moveService.getAllFiltered()),(0,L.U)(t=>t.slice(0,this.offset))).subscribe(t=>this._moves$.next(t))}_filterChangesSubscription(){return(0,F.T)(this.filterService.getQueryFilter$().pipe((0,v.T)(1)),this.filterService.getTypesFilter$().pipe((0,v.T)(1)),this.filterService.getGenerationFilter$().pipe((0,v.T)(1)),this.languageService.getDisplayLanguage$().pipe((0,v.T)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.q),e.Y36(O.i),e.Y36(U.T),e.Y36($.t),e.Y36(c.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["pokedex-ng-move-list"]],decls:24,vars:8,consts:[[1,"move-table-container","w-100","d-flex","flex-column","align-items-center"],["class","move-table",3,"showGenerationFilter","showTypesFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","move-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Move Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"move-table",3,"showGenerationFilter","showTypesFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"p-0","align-middle","d-flex","justify-content-start"],[1,"m-1","px-2","rounded-lg",3,"ngStyle"],[4,"ngIf"],["colspan","7"],[3,"moveId"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,q,1,2,"pokedex-ng-filter-toolbar",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e.NdJ("scrolled",function(){return i.renderMore()}),e.TgZ(4,"table",3),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e.TgZ(7,"th",4),e._uU(8,"Id"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Gen"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Type"),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"Power"),e.qZA(),e.TgZ(17,"th",4),e._uU(18,"PP"),e.qZA(),e.TgZ(19,"th",4),e._uU(20,"Accuracy"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,I,22,19,"ng-container",5),e.ALo(23,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,i.appNavbarService.getShowFilters$())),e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",150),e.xp6(19),e.Q6J("ngForOf",e.lcZ(23,6,i.getMoves$())))},directives:[s.O5,h.R,s.sg,N.Q,s.PC,J.Q],pipes:[s.Ov,u.Ot,Q.g,s.gd],styles:[".move-table[_ngcontent-%COMP%]{max-width:1000px}"]}),o})();const B=[{path:"",component:f},{path:":move",component:f,resolve:{move:S}}];let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.Bz.forChild(B)],c.Bz]}),o})(),R=(()=>{class o{constructor(t,i){this.moveService=t,this.typeService=i}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(p.q),e.LFG(Z.S))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[s.ez,E,x.l,T.m,h.X,u.y4]]}),o})()}}]);