"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[236],{2470:(b,E,i)=>{i.d(E,{g:()=>u});var I=i(727),O=i(4128),p=i(9646),M=i(3900),C=i(4004),f=i(3530),L=i(9716),Z=i(8342),t=i(5e3),F=i(520),e=i(2546);let S=(()=>{class n extends L.ge{constructor(s,c,x){super("item-attribute",s,c,x),this.http=s,this.translocoService=c,this.languageService=x}_parseOneTranslation(s){return(0,p.of)(f.Jh.mergeMaps([f.Jh.ofSingleResource(s.names,c=>({key:c.language.name,object:{ITEM:{ATTRIBUTE:{[s.name]:{NAME:c.name}}}}})),f.Jh.ofSingleResource(s.descriptions,c=>({key:c.language.name,object:{ITEM:{ATTRIBUTE:{[s.name]:{DESCRIPTION:c.description}}}}}))]))}}return n.\u0275fac=function(s){return new(s||n)(t.LFG(F.eN),t.LFG(e.Vn),t.LFG(Z.T))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=i(4184),A=i(9808),a=i(2361);function d(n,h){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"transloco"),t.qZA(),t.qZA()),2&n){const s=h.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"ITEM.ATTRIBUTE."+s.name+".NAME")),t.xp6(3),t.Oqu(t.lcZ(6,4,"ITEM.ATTRIBUTE."+s.name+".DESCRIPTION"))}}function m(n,h){if(1&n&&(t.TgZ(0,"table",3),t.TgZ(1,"tbody"),t.TgZ(2,"tr",4),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"transloco"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"transloco"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"transloco"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"tr"),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"transloco"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"transloco"),t.qZA(),t.qZA(),t.YNc(22,d,7,6,"tr",5),t.TgZ(23,"tr",6),t.ALo(24,"transloco"),t.TgZ(25,"td"),t._uU(26),t.ALo(27,"transloco"),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.ALo(30,"async"),t.ALo(31,"withVersionGroup"),t.qZA(),t.qZA(),t.TgZ(32,"tr",6),t.ALo(33,"transloco"),t.TgZ(34,"td"),t._uU(35),t.ALo(36,"transloco"),t.qZA(),t.TgZ(37,"td"),t._uU(38),t.ALo(39,"transloco"),t.qZA(),t.qZA(),t.TgZ(40,"tr",6),t.ALo(41,"transloco"),t.TgZ(42,"td"),t._uU(43),t.ALo(44,"transloco"),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.ALo(47,"transloco"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const s=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,16,"UI.ITEM.NAME")),t.xp6(3),t.Oqu(t.lcZ(8,18,"ITEM."+s.item.name+".NAME")),t.xp6(4),t.Oqu(t.lcZ(12,20,"UI.ITEM.COST")),t.xp6(3),t.Oqu(s.item.cost),t.xp6(3),t.Oqu(t.lcZ(18,22,"UI.ITEM.CATEGORY")),t.xp6(3),t.Oqu(t.lcZ(21,24,"ITEM.CATEGORY."+s.item.category.name+".NAME")),t.xp6(2),t.Q6J("ngForOf",s.item.attributes),t.xp6(1),t.s9C("title",t.lcZ(24,26,"UI.ITEM.DESCRIPTION_TITLE")),t.xp6(3),t.Oqu(t.lcZ(27,28,"UI.ITEM.DESCRIPTION")),t.xp6(3),t.hij(" ",t.lcZ(30,30,t.lcZ(31,32,"ITEM."+s.item.name+".FLAVOR_TEXT."))," "),t.xp6(3),t.s9C("title",t.lcZ(33,34,"UI.ITEM.EFFECT_TITLE")),t.xp6(3),t.Oqu(t.lcZ(36,36,"UI.ITEM.EFFECT")),t.xp6(3),t.hij(" ",t.lcZ(39,38,"ITEM."+s.item.name+".EFFECT_ENTRY.EFFECT")," "),t.xp6(2),t.s9C("title",t.lcZ(41,40,"UI.ITEM.EFFECT_TITLE")),t.xp6(3),t.Oqu(t.lcZ(44,42,"UI.ITEM.EFFECT_SHORT")),t.xp6(3),t.hij(" ",t.lcZ(47,44,"ITEM."+s.item.name+".EFFECT_ENTRY.SHORT")," ")}}function v(n,h){1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"span",9),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"LOADING")))}let u=(()=>{class n{constructor(s,c){this.itemService=s,this.itemAttributeService=c,this.subscriptions=new I.w0}ngOnInit(){this.subscriptions.add(this._subscribeToFetchTranslations())}ngOnDestroy(){this.subscriptions.unsubscribe()}_subscribeToFetchTranslations(){return this.itemService.fetchApiOne(this.itemId).pipe((0,M.w)(s=>(0,O.D)([...s.attributes.map(c=>this.itemAttributeService.fetchApiOne(c.name)),(0,p.of)({})]).pipe((0,C.U)(()=>s)))).subscribe(s=>this.item=s)}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(T.e),t.Y36(S))},n.\u0275cmp=t.Xpm({type:n,selectors:[["pokedex-ng-item-detail"]],inputs:{itemId:"itemId"},decls:4,vars:2,consts:[[1,"card","p-1"],["class","table mb-0","aria-describedby","Table of Move Details","aria-hidden","true",4,"ngIf","ngIfElse"],["loading",""],["aria-describedby","Table of Move Details","aria-hidden","true",1,"table","mb-0"],[1,"first-row-border-0"],[4,"ngFor","ngForOf"],[3,"title"],[1,"text-center"],["role","status",1,"spinner-border","m-4",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(s,c){if(1&s&&(t.TgZ(0,"div",0),t.YNc(1,m,48,46,"table",1),t.YNc(2,v,5,3,"ng-template",null,2,t.W1O),t.qZA()),2&s){const x=t.MAs(3);t.xp6(1),t.Q6J("ngIf",c.item)("ngIfElse",x)}},directives:[A.O5,A.sg],pipes:[e.Ot,A.Ov,a.T],styles:[".first-row-border-0[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}"]}),n})()},7236:(b,E,i)=>{i.r(E),i.d(E,{ItemModule:()=>_});var I=i(9808),O=i(2546),p=i(8624),M=i(2839),C=i(3735),f=i(4184),L=i(6719),Z=i(7207),t=i(515),F=i(262),e=i(5e3);let S=(()=>{class r{constructor(o,l){this.itemService=o,this.router=l}resolve(o){var l;return this.itemService.fetchApiOne((null===(l=null==o?void 0:o.params)||void 0===l?void 0:l.item)||1).pipe((0,F.K)(()=>(this.router.navigate(["item","1"]),t.E)))}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(f.e),e.LFG(Z.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var T=i(727),A=i(1135),a=i(6451),d=i(8505),m=i(3900),v=i(4004),u=i(5684),n=i(4474),h=i(8342),s=i(8684),c=i(3805),x=i(2470);function P(r,g){1&r&&e._UZ(0,"pokedex-ng-filter-toolbar",6),2&r&&e.Q6J("showItemPocketFilter",!0)("showItemCategoryFilter",!0)}function N(r,g){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",12),e._UZ(2,"pokedex-ng-item-detail",13),e.qZA(),e.qZA()),2&r){const o=e.oxw().$implicit;e.xp6(2),e.Q6J("itemId",o.id)}}function B(r,g){if(1&r){const o=e.EpF();e.ynx(0),e.TgZ(1,"tr",7),e.NdJ("click",function(){const y=e.CHM(o).$implicit,R=e.oxw();return R.expandedItem=R.expandedItem===y.id.toString()||R.expandedItem===y.name?"":y.name}),e.TgZ(2,"td",8),e._uU(3),e.qZA(),e.TgZ(4,"td",9),e._UZ(5,"img",10),e.qZA(),e.TgZ(6,"td",8),e._uU(7),e.ALo(8,"transloco"),e.qZA(),e.TgZ(9,"td",8),e._uU(10),e.qZA(),e.TgZ(11,"td",8),e._uU(12),e.ALo(13,"transloco"),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.ALo(16,"transloco"),e.qZA(),e.qZA(),e.YNc(17,N,3,1,"tr",11),e.BQk()}if(2&r){const o=g.$implicit,l=e.oxw();e.xp6(3),e.Oqu(o.id),e.xp6(2),e.MGl("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/",o.sprite,"",e.LSH),e.s9C("alt",o.sprite),e.xp6(2),e.Oqu(e.lcZ(8,8,"ITEM."+o.name+".NAME")),e.xp6(3),e.Oqu(o.cost),e.xp6(2),e.Oqu(e.lcZ(13,10,"ITEM.CATEGORY."+o.category+".NAME")),e.xp6(3),e.Oqu(e.lcZ(16,12,"ITEM.POCKET."+o.pocket+".NAME")),e.xp6(2),e.Q6J("ngIf",l.expandedItem===o.id.toString()||l.expandedItem===o.name)}}let D=(()=>{class r{constructor(o,l,U,y,R){this.itemService=o,this.filterService=l,this.languageService=U,this.appNavbarService=y,this.route=R,this.subscriptions=new T.w0,this._items$=new A.X([]),this._filterChange$=new A.X(!0),this.expandedItem="",this.offset=0,this.increment=72}ngOnInit(){this.route.data.subscribe(o=>{var l;this.expandedItem=(null===(l=null==o?void 0:o.item)||void 0===l?void 0:l.name)||""}),this.subscriptions.add(this._updateListSubscription()),this.subscriptions.add(this._filterChangesSubscription()),this.appNavbarService.showSearchBar(),this.appNavbarService.showFiltersButton(),this.appNavbarService.showVersionGroupPicker()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.appNavbarService.hideAll(),this.filterService.clearAllFilters()}getItems$(){return this._items$.asObservable()}renderMore(){this._filterChange$.next(!1)}_updateListSubscription(){return this._filterChange$.pipe((0,d.b)(o=>o?this.offset=this.increment:this.offset+=this.increment),(0,m.w)(()=>this.itemService.getAllFiltered()),(0,v.U)(o=>o.slice(0,this.offset))).subscribe(o=>this._items$.next(o))}_filterChangesSubscription(){return(0,a.T)(this.filterService.getQueryFilter$().pipe((0,u.T)(1)),this.filterService.getItemPocketFilter$().pipe((0,u.T)(1)),this.filterService.getItemCategoryFilter$().pipe((0,u.T)(1)),this.languageService.getDisplayLanguage$().pipe((0,u.T)(1))).subscribe(()=>{this._filterChange$.next(!0)})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(f.e),e.Y36(n.i),e.Y36(h.T),e.Y36(s.t),e.Y36(Z.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["pokedex-ng-item-list"]],decls:22,vars:8,consts:[[1,"item-table-container","w-100","d-flex","flex-column","align-items-center"],["class","item-table",3,"showItemPocketFilter","showItemCategoryFilter",4,"ngIf"],["infiniteScroll","",1,"table-responsive","item-table",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["aria-describedby","Table of Item Details","aria-hidden","true",1,"table","table-hover","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[1,"item-table",3,"showItemPocketFilter","showItemCategoryFilter"],[3,"click"],[1,"p-0","align-middle"],[1,"align-middle","py-0"],["height","40px",1,"py-0",3,"src","alt"],[4,"ngIf"],["colspan","6"],[3,"itemId"]],template:function(o,l){1&o&&(e.TgZ(0,"div",0),e.YNc(1,P,1,2,"pokedex-ng-filter-toolbar",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e.NdJ("scrolled",function(){return l.renderMore()}),e.TgZ(4,"table",3),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e.TgZ(7,"th",4),e._uU(8,"Id"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Image"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Name"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Cost"),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"Category"),e.qZA(),e.TgZ(17,"th",4),e._uU(18,"Pocket"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"tbody"),e.YNc(20,B,18,14,"ng-container",5),e.ALo(21,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,l.appNavbarService.getShowFilters$())),e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",150),e.xp6(17),e.Q6J("ngForOf",e.lcZ(21,6,l.getItems$())))},directives:[I.O5,p.R,I.sg,c.Q,x.g],pipes:[I.Ov,O.Ot],styles:[".item-table[_ngcontent-%COMP%]{max-width:1000px}"]}),r})();const G=[{path:"",component:D},{path:":item",component:D,resolve:{item:S}}];let Y=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(G)],Z.Bz]}),r})(),_=(()=>{class r{constructor(o,l,U){this.itemService=o,this.itemCategoryService=l,this.itemPocketService=U}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(f.e),e.LFG(M.F),e.LFG(C.N))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,Y,p.X,L.m,O.y4]]}),r})()},4184:(b,E,i)=>{i.d(E,{e:()=>S});var I=i(3530),O=i(9646),p=i(4004),M=i(5698),C=i(4474),f=i(9716),L=i(8342),Z=i(45),t=i(5e3),F=i(520),e=i(2546);let S=(()=>{class T extends f.nh{constructor(a,d,m,v,u){super("item",a,d,m),this.http=a,this.translocoService=d,this.languageService=m,this.filterService=v,this.versionGroupService=u}getAllFiltered(){return this.getAll().pipe((0,p.U)(a=>this.filterService.filterByItemPocket(a)),(0,p.U)(a=>this.filterService.filterByItemCategory(a)),(0,p.U)(a=>this.filterService.filterByLocalizedName(a)))}_parseAllTranslations(a){return(0,O.of)(I.Jh.ofMultipleResources(a,"names",(d,m)=>({key:m.language,object:{ITEM:{[d.name]:{NAME:m.name}}}})))}_parseOneTranslation(a){return this.versionGroupService.getAll().pipe((0,M.q)(1),(0,p.U)(d=>{var m;const v=new I.Jh;a.effect_entries.forEach(n=>{v.merge(n.language.name,{ITEM:{[a.name]:{EFFECT_ENTRY:{SHORT:n.short_effect,EFFECT:n.effect}}}})});const u=(null===(m=a.flavor_text_entries.find(n=>"en"===n.language.name))||void 0===m?void 0:m.text)||"ITEM_TRANSLATE_ERROR_001";return d.forEach(n=>{v.merge("en",{ITEM:{[a.name]:{FLAVOR_TEXT:{[n.name]:u}}}})}),a.flavor_text_entries.forEach(n=>{v.merge(n.language.name,{ITEM:{[a.name]:{FLAVOR_TEXT:{[n.version_group.name]:n.text}}}})}),v}))}}return T.\u0275fac=function(a){return new(a||T)(t.LFG(F.eN),t.LFG(e.Vn),t.LFG(L.T),t.LFG(C.i),t.LFG(Z.H))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()}}]);