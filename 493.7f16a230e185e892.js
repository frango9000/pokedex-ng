"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[493],{8808:(K,k,_)=>{_.d(k,{z:()=>x});var w=_(655),I=_(4987),s=_(1135),B=_(3900),g=_(4004),a=_(1150),e=_(5e3);function A(E,v){if(1&E&&e._UZ(0,"pokedex-ng-types-pill",6),2&E){const d=v.ngIf,C=e.oxw(2);e.Q6J("clickable",C.clickableTitle)("types",d)("size",18)}}function b(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",18),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const d=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",d.name)("inline",!1),e.xp6(3),e.hij("x",d.multiplier,"")}}function Z(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",19),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const d=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",d.name)("inline",!1),e.xp6(3),e.hij("x",d.multiplier,"")}}function S(E,v){if(1&E&&(e.ynx(0,7),e.TgZ(1,"div",8),e.TgZ(2,"div",9),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"div",11),e.TgZ(7,"h6",12),e._uU(8),e.ALo(9,"transloco"),e.qZA(),e._UZ(10,"span",13),e.qZA(),e.YNc(11,b,5,4,"div",14),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"h6",12),e._uU(15),e.ALo(16,"transloco"),e.qZA(),e._UZ(17,"span",13),e.qZA(),e.YNc(18,Z,5,4,"div",14),e.qZA(),e.qZA(),e.BQk()),2&E){const d=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,5,"UI.TYPE_DAMAGES.CONTEXT.ATTACKING")),e.xp6(5),e.Oqu(e.lcZ(9,7,"UI.TYPE_DAMAGES.WEAKNESSES")),e.xp6(3),e.Q6J("ngForOf",d.attacking.weaknesses),e.xp6(4),e.Oqu(e.lcZ(16,9,"UI.TYPE_DAMAGES.STRENGTHS")),e.xp6(3),e.Q6J("ngForOf",d.attacking.strengths)}}function U(E,v){1&E&&e._UZ(0,"div",1)}function h(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",18),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const d=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",d.name)("inline",!1),e.xp6(3),e.hij("x",d.multiplier,"")}}function D(E,v){if(1&E&&(e.TgZ(0,"div",15),e._UZ(1,"pokedex-ng-type-pill",16),e.TgZ(2,"div",17),e.TgZ(3,"strong",21),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&E){const d=v.$implicit,C=e.oxw(3);e.xp6(1),e.Q6J("clickable",C.clickableEntries)("type",d.name)("inline",!1),e.xp6(3),e.hij("x",d.multiplier,"")}}function p(E,v){if(1&E&&(e.ynx(0),e.YNc(1,U,1,0,"div",20),e.TgZ(2,"div",8),e.TgZ(3,"div",9),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",10),e.TgZ(7,"div",11),e.TgZ(8,"h6",12),e._uU(9),e.ALo(10,"transloco"),e.qZA(),e._UZ(11,"span",13),e.qZA(),e.YNc(12,h,5,4,"div",14),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"h6",12),e._uU(16),e.ALo(17,"transloco"),e.qZA(),e._UZ(18,"span",13),e.qZA(),e.YNc(19,D,5,4,"div",14),e.qZA(),e.qZA(),e.BQk()),2&E){const d=e.oxw().ngIf,C=e.oxw();e.xp6(1),e.Q6J("ngIf",C.showAttacking&&(null==d?null:d.attacking)),e.xp6(3),e.Oqu(e.lcZ(5,6,"UI.TYPE_DAMAGES.CONTEXT.DEFENDING")),e.xp6(5),e.Oqu(e.lcZ(10,8,"UI.TYPE_DAMAGES.WEAKNESSES")),e.xp6(3),e.Q6J("ngForOf",d.defending.weaknesses),e.xp6(4),e.Oqu(e.lcZ(17,10,"UI.TYPE_DAMAGES.RESISTANCES")),e.xp6(3),e.Q6J("ngForOf",d.defending.resistances)}}function O(E,v){if(1&E&&(e.ynx(0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,A,1,3,"pokedex-ng-types-pill",3),e.ALo(4,"async"),e.qZA(),e.qZA(),e.YNc(5,S,19,11,"ng-container",4),e.YNc(6,p,20,12,"ng-container",0),e._UZ(7,"div",5),e.BQk()),2&E){const d=v.ngIf,C=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,C.types$)),e.xp6(2),e.Q6J("ngIf",C.showAttacking&&(null==d?null:d.attacking)),e.xp6(1),e.Q6J("ngIf",C.showDefending&&(null==d?null:d.defending))}}let x=class{constructor(v){this.typeService=v,this._typeDamages$=new s.X(null),this.showDefending=!1,this.showAttacking=!1,this.clickableTitle=!1,this.clickableEntries=!1}ngOnInit(){this.types$.pipe((0,I.t)(this),(0,B.w)(v=>this.typeService.getAll().pipe((0,g.U)(d=>this.generateTypeDamages(v,d))))).subscribe()}getTypeDamages$(){return this._typeDamages$.asObservable()}generateTypeDamages(v,d){const C=v.map(f=>d.find(T=>T.name===f));let c=d.map(f=>({name:f.name,multiplier:1}));C.forEach(f=>{f.damage_relations.double_damage_from.forEach(T=>{const R=c.findIndex(t=>t.name===T);c[R].multiplier*=2}),f.damage_relations.half_damage_from.forEach(T=>{const R=c.findIndex(t=>t.name===T);c[R].multiplier*=.5}),f.damage_relations.no_damage_from.forEach(T=>{const R=c.findIndex(t=>t.name===T);c[R].multiplier*=0})}),c=c.filter(f=>1!==f.multiplier);let u=d.map(f=>({name:f.name,multiplier:1}));C.forEach(f=>{f.damage_relations.double_damage_to.forEach(T=>{const R=u.findIndex(t=>t.name===T);u[R].multiplier*=2}),f.damage_relations.half_damage_to.forEach(T=>{const R=u.findIndex(t=>t.name===T);u[R].multiplier*=.5}),f.damage_relations.no_damage_to.forEach(T=>{const R=u.findIndex(t=>t.name===T);u[R].multiplier*=0})}),u=u.filter(f=>1!==f.multiplier),this._typeDamages$.next({attacking:{weaknesses:u.filter(f=>f.multiplier<1),strengths:u.filter(f=>f.multiplier>1)},defending:{weaknesses:c.filter(f=>f.multiplier>1),resistances:c.filter(f=>f.multiplier<1)}})}};x.\u0275fac=function(v){return new(v||x)(e.Y36(a.S))},x.\u0275cmp=e.Xpm({type:x,selectors:[["pokedex-ng-type-damages"]],inputs:{types$:"types$",showDefending:"showDefending",showAttacking:"showAttacking",clickableTitle:"clickableTitle",clickableEntries:"clickableEntries"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"pt-3"],[1,"m-3"],[3,"clickable","types","size",4,"ngIf"],["class","pt-1",4,"ngIf"],[1,"pb-3"],[3,"clickable","types","size"],[1,"pt-1"],[1,"row","m-1","text-center"],[1,"col-12","font-weight-bold"],[1,"col-12","col-sm-6"],[1,"row"],[1,"col-9"],[1,"col-3"],["class","row my-1",4,"ngFor","ngForOf"],[1,"row","my-1"],[1,"col-9",3,"clickable","type","inline"],[1,"col-3","text-left","px-0","pl-4","pl-sm-2"],[1,"weakness-multiplier"],[1,"strength-multiplier"],["class","pt-3",4,"ngIf"],[1,"resistance-multiplier"]],template:function(v,d){1&v&&(e.YNc(0,O,8,5,"ng-container",0),e.ALo(1,"async")),2&v&&e.Q6J("ngIf",e.lcZ(1,1,d.getTypeDamages$()))},styles:[".weakness-multiplier[_ngcontent-%COMP%]{color:#e70000;font-weight:700}.resistance-multiplier[_ngcontent-%COMP%], .strength-multiplier[_ngcontent-%COMP%]{color:#00e700;font-weight:700}"]}),x=(0,w.gn)([(0,I.c)(),(0,w.w6)("design:paramtypes",[a.S])],x)},493:(K,k,_)=>{_.d(k,{Q:()=>A});var w=_(9808),I=_(2546),s=_(6719),B=_(8808),g=_(9168),a=_(7400),e=_(5e3);let A=(()=>{class b{}return b.\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[[w.ez,I.y4,s.m]]}),b})();e.B6R(B.z,[w.O5,a.w,w.sg,g.D],[w.Ov,I.Ot])},9168:(K,k,_)=>{_.d(k,{D:()=>h});var w=_(655),I=_(4987),s=_(3491),B=_(9646),g=_(8808),a=_(5e3),e=_(9808),A=_(2395),b=_(2546);const Z=function(D,p,O){return{"background-color":D,color:"white","font-size":p,"border-radius":O}},S=function(D,p){return{"rotate-90":D,"inline-type":p}};function U(D,p){if(1&D){const O=a.EpF();a.TgZ(0,"div",1),a.NdJ("click",function(){return a.CHM(O),a.oxw().onClick()}),a.ALo(1,"pokeTypeColor"),a._uU(2),a.ALo(3,"uppercase"),a.ALo(4,"transloco"),a.qZA()}if(2&D){const O=a.oxw();a.Q6J("ngStyle",a.kEZ(9,Z,a.lcZ(1,3,O.type),O.size+"px",O.size/2+"px"))("ngClass",a.WLB(13,S,O.vertical,O.inline)),a.xp6(2),a.hij(" ",a.lcZ(3,5,a.lcZ(4,7,"TYPE."+O.type+".NAME")),"\n")}}let h=class{constructor(p){this.modalService=p,this.size=16,this.vertical=!1,this.inline=!0,this.clickable=!0,this.showDefending=!0,this.showAttacking=!0}onClick(){this.clickable&&this.modalService.show(g.z,{class:"modal-dialog-centered",data:{showDefending:this.showDefending,showAttacking:this.showAttacking,types$:(0,B.of)([this.type])}})}};h.\u0275fac=function(p){return new(p||h)(a.Y36(s.yU))},h.\u0275cmp=a.Xpm({type:h,selectors:[["pokedex-ng-type-pill"]],inputs:{type:"type",size:"size",vertical:"vertical",inline:"inline",clickable:"clickable",showDefending:"showDefending",showAttacking:"showAttacking"},decls:1,vars:1,consts:[["class","cursor-pointer text-center rounded-lg",3,"ngStyle","ngClass","click",4,"ngIf"],[1,"cursor-pointer","text-center","rounded-lg",3,"ngStyle","ngClass","click"]],template:function(p,O){1&p&&a.YNc(0,U,5,16,"div",0),2&p&&a.Q6J("ngIf",O.type)},directives:[e.O5,e.PC,e.mk],pipes:[A.g,e.gd,b.Ot],styles:["[_nghost-%COMP%]{display:inline}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{padding:2px 6px;font-weight:700}[_nghost-%COMP%]   div.inline-type[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]   div.rotate-90[_ngcontent-%COMP%]{padding:6px 0;white-space:nowrap;position:relative;writing-mode:vertical-rl;transform:rotate(180deg);display:inline-block;overflow:visible}"]}),h=(0,w.gn)([(0,I.c)(),(0,w.w6)("design:paramtypes",[s.yU])],h)},7400:(K,k,_)=>{_.d(k,{w:()=>U});var w=_(9646),I=_(8808),s=_(5e3),B=_(3491),g=_(9808),a=_(9168),e=_(2395);const A=function(h,D){return{"background-color":h,"border-radius":D}},b=function(h){return{"font-size":h,color:"white"}};function Z(h,D){if(1&h&&(s.ynx(0),s.TgZ(1,"div",3),s.ALo(2,"pokeTypeColor"),s._UZ(3,"i",4),s.qZA(),s._UZ(4,"pokedex-ng-type-pill",2),s.BQk()),2&h){const p=s.oxw(2);s.xp6(1),s.Q6J("ngStyle",s.WLB(11,A,s.Dn7(2,7,p.types[0],!1,p.types[1]),p.size/3+"px")),s.xp6(2),s.Q6J("ngStyle",s.VKq(14,b,.8*p.size+"px")),s.xp6(1),s.Q6J("type",p.types[1])("size",p.size)("clickable",!1)("inline",p.inline)("vertical",p.vertical)}}function S(h,D){if(1&h){const p=s.EpF();s.ynx(0),s.TgZ(1,"div",1),s.NdJ("click",function(){return s.CHM(p),s.oxw().onClick()}),s._UZ(2,"pokedex-ng-type-pill",2),s.YNc(3,Z,5,16,"ng-container",0),s.qZA(),s.BQk()}if(2&h){const p=s.oxw();s.xp6(2),s.Q6J("type",p.types[0])("size",p.size)("clickable",!1)("inline",p.inline)("vertical",p.vertical),s.xp6(1),s.Q6J("ngIf",p.types.length>1)}}let U=(()=>{class h{constructor(p){this.modalService=p,this.types=[],this.size=16,this.vertical=!1,this.inline=!0,this.clickable=!0}onClick(){this.clickable&&this.modalService.show(I.z,{class:"modal-dialog-centered",data:{showDefending:!0,showAttacking:!1,types$:(0,w.of)([...this.types])}})}}return h.\u0275fac=function(p){return new(p||h)(s.Y36(B.yU))},h.\u0275cmp=s.Xpm({type:h,selectors:[["pokedex-ng-types-pill"]],inputs:{types:"types",size:"size",vertical:"vertical",inline:"inline",clickable:"clickable"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center",3,"click"],[3,"type","size","clickable","inline","vertical"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mx-1",3,"ngStyle"],[1,"fab","fa-mixer","px-1","mix-icon",3,"ngStyle"]],template:function(p,O){1&p&&s.YNc(0,S,4,6,"ng-container",0),2&p&&s.Q6J("ngIf",O.types.length>0)},directives:[g.O5,a.D,g.PC],pipes:[e.g],styles:["[_nghost-%COMP%]{cursor:pointer}"]}),h})()},2395:(K,k,_)=>{_.d(k,{g:()=>I});var w=_(5e3);let I=(()=>{class s{transform(g,a=!1,e=""){let A=this.getTypeColor(g);if(null==e?void 0:e.length){const b=this.getTypeColor(e);A=this.blendColors(A,b)}return a?this.invertColor(A):A}invertColor(g){if(0===g.indexOf("#")&&(g=g.slice(1)),3===g.length&&(g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2]),6!==g.length)throw new Error("Invalid HEX color.");const a=(255-parseInt(g.slice(0,2),16)).toString(16),e=(255-parseInt(g.slice(2,4),16)).toString(16),A=(255-parseInt(g.slice(4,6),16)).toString(16);return"#"+this.padZero(a)+this.padZero(e)+this.padZero(A)}padZero(g,a){return a=a||2,(new Array(a).join("0")+g).slice(-a)}blendColors(g,a,e=.5){const[A,b,Z]=g.match(/\w\w/g).map(x=>parseInt(x,16)),[S,U,h]=a.match(/\w\w/g).map(x=>parseInt(x,16));return"#"+Math.round(A+(S-A)*e).toString(16).padStart(2,"0")+Math.round(b+(U-b)*e).toString(16).padStart(2,"0")+Math.round(Z+(h-Z)*e).toString(16).padStart(2,"0")}getTypeColor(g){let a="#000";switch(g){case"normal":a="#9C9C63";break;case"fighting":a="#AE2A24";break;case"flying":a="#8E6FEB";break;case"poison":a="#923A92";break;case"ground":a="#DBB54D";break;case"rock":a="#A48F32";break;case"bug":a="#97A51D";break;case"ghost":a="#644E88";break;case"steel":a="#A0A0C0";break;case"fire":a="#ED6D12";break;case"water":a="#4578ED";break;case"grass":a="#69C23D";break;case"electric":a="#F6C913";break;case"psychic":a="#F73670";break;case"ice":a="#7ECECE";break;case"dragon":a="#5D1EF7";break;case"dark":a="#644e40";break;case"fairy":a="#E87890";break;case"unknown":a="#888";break;case"shadow":a="#444"}return a}}return s.\u0275fac=function(g){return new(g||s)},s.\u0275pipe=w.Yjl({name:"pokeTypeColor",type:s,pure:!0}),s})()},655:(K,k,_)=>{function g(t,n,r,o){var y,l=arguments.length,i=l<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,r,o);else for(var P=t.length-1;P>=0;P--)(y=t[P])&&(i=(l<3?y(i):l>3?y(n,r,i):y(n,r))||i);return l>3&&i&&Object.defineProperty(n,r,i),i}function e(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}_.d(k,{gn:()=>g,w6:()=>e})},4987:(K,k,_)=>{_.d(k,{c:()=>E,t:()=>d});var w=_(7579),I=_(727),s=_(5e3),B=_(2722);const g=s.GuJ,e=Symbol("__destroy"),A=Symbol("__decoratorApplied");function b(c){return"string"==typeof c?Symbol(`__destroy__${c}`):e}function S(c,u){c[u]||(c[u]=new w.x)}function U(c,u){c[u]&&(c[u].next(),c[u].complete(),c[u]=null)}function h(c){c instanceof I.w0&&c.unsubscribe()}function p(c,u){return function(){var f;if(c&&c.call(this),U(this,b()),u.arrayName)return function(c){Array.isArray(c)&&c.forEach(h)}(this[u.arrayName]);if(u.checkProperties)for(const T in this)(null===(f=u.blackList)||void 0===f?void 0:f.includes(T))||h(this[T])}}function E(c={}){return u=>{!function(c){return!!c[g]}(u)?function(c,u){c.prototype.ngOnDestroy=p(c.prototype.ngOnDestroy,u)}(u,c):function(c,u){const f=c.\u0275pipe;f.onDestroy=p(f.onDestroy,u)}(u,c),function(c){c.prototype[A]=!0}(u)}}function d(c,u){return f=>{const T=b(u);return"string"==typeof u?function(c,u,f){const T=c[u];S(c,f),c[u]=function(){T.apply(this,arguments),U(this,f),c[u]=T}}(c,u,T):S(c,T),f.pipe((0,B.R)(c[T]))}}}}]);