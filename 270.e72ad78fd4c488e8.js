"use strict";(self.webpackChunkpokedex_ng=self.webpackChunkpokedex_ng||[]).push([[270],{3805:(U,F,l)=>{l.d(F,{Q:()=>q});var e=l(4650),T=l(6895),S=l(727),x=l(5698),g=l(4474),E=l(9716),O=l(529);let I=(()=>{class i extends E.bQ{constructor(n){super("generation",n),this.http=n}}return i.\u0275fac=function(n){return new(n||i)(e.LFG(O.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var a=l(5075);function P(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(d){const w=e.CHM(n).$implicit,k=e.oxw();return e.KtG(k.onFilterChange(d,w))}),e._uU(1),e.qZA()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.hij("Generation ",n.resource.id,"")}}let b=(()=>{class i{constructor(n,r){this.filterService=n,this.generationService=r,this.selectableGenerations=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllGenerations())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setGenerationFilter(this.selectableGenerations.filter(d=>d.active).map(d=>d.resource.id))}_subscribeToGetAllGenerations(){return this.generationService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableGenerations=n.map(r=>({active:!1,resource:r})),this.subscriptions.add(this._subscribeToGetGenerationFilter())})}_subscribeToGetGenerationFilter(){return this.filterService.getGenerationFilter$().subscribe(n=>{this.selectableGenerations.forEach(r=>{r.active=n.includes(r.resource.id)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(g.i),e.Y36(I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-generation-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Generations "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,P,2,2,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.filterService.setGenerationFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.selectableGenerations))},dependencies:[T.sg,a.mT,a.b6,a.Mq,a.TO,a.bK],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),i})();var y=l(1150),h=l(5380),W=l(2395);function H(i,p){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"mdb-checkbox",7,8),e.NdJ("change",function(d){e.CHM(n);const D=e.oxw();return e.KtG(D.filterService.setTypesFilterInclusiveness(d.checked))}),e.ALo(3,"async"),e.TgZ(4,"div",9),e._uU(5),e.qZA()(),e._UZ(6,"div",10),e.BQk()}if(2&i){const n=e.MAs(2),r=e.oxw();e.xp6(1),e.Q6J("checked",e.lcZ(3,2,r.filterService.getTypesFilterInclusiveness$())),e.xp6(4),e.Oqu(n.checked?"Inclusive":"Exclusive")}}const te=function(i){return{"background-color":i}};function Y(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",7),e.NdJ("change",function(d){const w=e.CHM(n).$implicit,k=e.oxw();return e.KtG(k.onFilterChange(d,w))}),e.TgZ(1,"div",11),e.ALo(2,"pokeTypeColor"),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"transloco"),e.qZA()()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,te,e.lcZ(2,3,n.resource.name))),e.xp6(2),e.hij(" ",e.lcZ(4,5,e.lcZ(5,7,"TYPE."+n.resource.name+".NAME"))," ")}}let R=(()=>{class i{constructor(n,r){this.filterService=n,this.typeService=r,this.showTypesExclusivenessToggle=!1,this.selectableTypes=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllTypes())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setTypesFilter(this.selectableTypes.filter(d=>d.active).map(d=>d.resource.name))}_subscribeToGetAllTypes(){return this.typeService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableTypes=n.map(r=>({resource:r,active:!1})),this.subscriptions.add(this._subscribeToGetTypesFilter())})}_subscribeToGetTypesFilter(){return this.filterService.getTypesFilter$().subscribe(n=>{this.selectableTypes.forEach(r=>{r.active=n.some(d=>d===r.resource.name)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(g.i),e.Y36(y.S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-types-filter"]],inputs:{showTypesExclusivenessToggle:"showTypesExclusivenessToggle"},decls:8,vars:2,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],[4,"ngIf"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"],["checkbox",""],[1,"checkbox-label","text-center"],[1,"divider","dropdown-divider"],[1,"text-white","px-1","rounded-lg","text-center","checkbox-label",3,"ngStyle"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Types "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,H,7,4,"ng-container",3),e.YNc(5,Y,6,11,"mdb-checkbox",4),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return r.filterService.setTypesFilter([])}),e._UZ(7,"i",6),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngIf",r.showTypesExclusivenessToggle),e.xp6(1),e.Q6J("ngForOf",r.selectableTypes))},dependencies:[T.sg,T.O5,T.PC,a.mT,a.b6,a.Mq,a.TO,a.bK,T.Ov,T.gd,h.Ot,W.g],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),i})(),G=(()=>{class i{constructor(n){this.filterService=n}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(g.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-clear-filter"]],decls:2,vars:0,consts:[["mdbBtn","","type","button","color","primary","mdbWavesEffect","","size","sm",1,"px-3","m-0",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.filterService.clearAllFilters()}),e._UZ(1,"i",1),e.qZA())},dependencies:[a.mT,a.b6]}),i})();var B=l(2839);function J(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(d){const w=e.CHM(n).$implicit,k=e.oxw();return e.KtG(k.onFilterChange(d,w))}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.CATEGORY."+n.resource.name+".NAME"))}}let L=(()=>{class i{constructor(n,r){this.filterService=n,this.itemCategoryService=r,this.selectableItemCategories=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemCategories())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setItemCategoryFilter(this.selectableItemCategories.filter(d=>d.active).map(d=>d.resource.name))}_subscribeToGetAllItemCategories(){return this.itemCategoryService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableItemCategories=n.map(r=>({active:!1,resource:r})),this.subscriptions.add(this._subscribeToGetItemCategoryFilter())})}_subscribeToGetItemCategoryFilter(){return this.filterService.getItemCategoryFilter$().subscribe(n=>{this.selectableItemCategories.forEach(r=>{r.active=n.includes(r.resource.name)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(g.i),e.Y36(B.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-item-category-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-2",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-2",3,"checked","change"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Categories "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,J,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.filterService.setItemCategoryFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.selectableItemCategories))},dependencies:[T.sg,a.mT,a.b6,a.Mq,a.TO,a.bK,h.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding-left:28px}"]}),i})();var z=l(3735);function Q(i,p){if(1&i){const n=e.EpF();e.TgZ(0,"mdb-checkbox",6),e.NdJ("change",function(d){const w=e.CHM(n).$implicit,k=e.oxw();return e.KtG(k.onFilterChange(d,w))}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}if(2&i){const n=p.$implicit;e.Q6J("checked",n.active),e.xp6(1),e.Oqu(e.lcZ(2,2,"ITEM.POCKET."+n.resource.name+".NAME"))}}let $=(()=>{class i{constructor(n,r){this.filterService=n,this.itemPocketService=r,this.selectableItemPockets=[],this.subscriptions=new S.w0}ngOnInit(){this.subscriptions.add(this._subscribeToGetAllItemPockets())}ngOnDestroy(){this.subscriptions.unsubscribe()}onFilterChange(n,r){r.active=n.checked,this.filterService.setItemPocketFilter(this.selectableItemPockets.filter(d=>d.active).map(d=>d.resource.name))}_subscribeToGetAllItemPockets(){return this.itemPocketService.getAll().pipe((0,x.q)(1)).subscribe(n=>{this.selectableItemPockets=n.map(r=>({active:!1,resource:r})),this.subscriptions.add(this._subscribeToGetItemPocketFilter())})}_subscribeToGetItemPocketFilter(){return this.filterService.getItemPocketFilter$().subscribe(n=>{this.selectableItemPockets.forEach(r=>{r.active=n.includes(r.resource.name)})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(g.i),e.Y36(z.N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-item-pocket-filter"]],decls:7,vars:1,consts:[["mdbDropdown","",1,"btn-group"],["mdbDropdownToggle","","mdbBtn","","color","primary","size","sm","type","button","mdbWavesEffect","",1,"dropdown-toggle","waves-light","p-2"],[1,"dropdown-menu","dropdown-primary"],["class","dropdown-item pr-0",3,"checked","change",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","primary","mdbWavesEffect","","size","sm",1,"waves-light","p-2",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"dropdown-item","pr-0",3,"checked","change"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2," Pockets "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,Q,3,4,"mdb-checkbox",3),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return r.filterService.setItemPocketFilter([])}),e._UZ(6,"i",5),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",r.selectableItemPockets))},dependencies:[T.sg,a.mT,a.b6,a.Mq,a.TO,a.bK,h.Ot],styles:[".checkbox-label[_ngcontent-%COMP%]{min-width:120px}mdb-checkbox[_ngcontent-%COMP%]{padding:4px 4px 4px 28px}"]}),i})();function j(i,p){1&i&&e._UZ(0,"pokedex-ng-generation-filter",4)}function X(i,p){if(1&i&&e._UZ(0,"pokedex-ng-types-filter",5),2&i){const n=e.oxw();e.Q6J("showTypesExclusivenessToggle",n.showTypesExclusivenessToggle)}}function Z(i,p){1&i&&e._UZ(0,"pokedex-ng-item-pocket-filter",4)}function N(i,p){1&i&&e._UZ(0,"pokedex-ng-item-category-filter",4)}function V(i,p){1&i&&e._UZ(0,"pokedex-ng-clear-filter")}let q=(()=>{class i{constructor(){this.showTypesFilter=!1,this.showTypesExclusivenessToggle=!1,this.showGenerationFilter=!1,this.showItemPocketFilter=!1,this.showItemCategoryFilter=!1,this.showClearFilter=!0}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["pokedex-ng-filter-toolbar"]],inputs:{showTypesFilter:"showTypesFilter",showTypesExclusivenessToggle:"showTypesExclusivenessToggle",showGenerationFilter:"showGenerationFilter",showItemPocketFilter:"showItemPocketFilter",showItemCategoryFilter:"showItemCategoryFilter",showClearFilter:"showClearFilter"},decls:6,vars:5,consts:[[1,"pokemon-list-filters","d-flex","flex-wrap","align-items-center","justify-content-end","w-100","mb-1"],["class","mr-1",4,"ngIf"],["class","mr-1",3,"showTypesExclusivenessToggle",4,"ngIf"],[4,"ngIf"],[1,"mr-1"],[1,"mr-1",3,"showTypesExclusivenessToggle"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.YNc(1,j,1,0,"pokedex-ng-generation-filter",1),e.YNc(2,X,1,1,"pokedex-ng-types-filter",2),e.YNc(3,Z,1,0,"pokedex-ng-item-pocket-filter",1),e.YNc(4,N,1,0,"pokedex-ng-item-category-filter",1),e.YNc(5,V,1,0,"pokedex-ng-clear-filter",3),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",r.showGenerationFilter),e.xp6(1),e.Q6J("ngIf",r.showTypesFilter),e.xp6(1),e.Q6J("ngIf",r.showItemPocketFilter),e.xp6(1),e.Q6J("ngIf",r.showItemCategoryFilter),e.xp6(1),e.Q6J("ngIf",r.showClearFilter))},dependencies:[T.O5,b,R,G,L,$],styles:["[_nghost-%COMP%]{width:100%}"]}),i})()},2839:(U,F,l)=>{l.d(F,{F:()=>I});var e=l(3530),T=l(9646),S=l(9716),x=l(8342),g=l(4650),E=l(529),O=l(5380);let I=(()=>{class a extends S.cm{constructor(b,y,h){super("item-category",b,y,h),this.http=b,this.translocoService=y,this.languageService=h}_parseAllTranslations(b){return(0,T.of)(e.Jh.ofMultipleResources(b,"names",(y,h)=>({key:h.language,object:{ITEM:{CATEGORY:{[y.name]:{NAME:h.name}}}}})))}}return a.\u0275fac=function(b){return new(b||a)(g.LFG(E.eN),g.LFG(O.Vn),g.LFG(x.T))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},3735:(U,F,l)=>{l.d(F,{N:()=>I});var e=l(3530),T=l(9646),S=l(9716),x=l(8342),g=l(4650),E=l(529),O=l(5380);let I=(()=>{class a extends S.cm{constructor(b,y,h){super("item-pocket",b,y,h),this.http=b,this.translocoService=y,this.languageService=h}_parseAllTranslations(b){return(0,T.of)(e.Jh.ofMultipleResources(b,"names",(y,h)=>({key:h.language,object:{ITEM:{POCKET:{[y.name]:{NAME:h.name}}}}})))}}return a.\u0275fac=function(b){return new(b||a)(g.LFG(E.eN),g.LFG(O.Vn),g.LFG(x.T))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},5684:(U,F,l)=>{l.d(F,{T:()=>T});var e=l(9300);function T(S){return(0,e.h)((x,g)=>S<=g)}},7296:(U,F,l)=>{l.d(F,{Ry:()=>de,Rq:()=>ue});var e=l(4650),T=l(9646),S=l(4968),x=l(4986),g=l(4482),E=l(5403),O=l(8421);const I={leading:!0,trailing:!1};var P=l(5963);var y=l(5577),h=l(4004),W=l(8505),H=l(9300);function Y(t,o,s,c){const u=window&&!!window.document&&window.document.documentElement;let f=u&&o?window:s;if(t&&(f=t&&u&&"string"==typeof t?function R(t,o,s){return(s?window.document:o).querySelector(t)}(t,s.nativeElement,c):t,!f))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return f}function G(t){return t&&!t.firstChange}const J={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},L={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class z{constructor(o=!0){this.vertical=o,this.propsMap=o?J:L}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function X(t){return["Window","global"].some(s=>Object.prototype.toString.call(t).includes(s))}function Z(t,o){return t?o.document.documentElement:null}function N(t,o){const s=function p({container:t,isWindow:o,axis:s}){const{offsetHeightKey:c,clientHeightKey:u}=i(s);return n(t,o,c,u)}(o);return o.isWindow?function V(t,o,s){const{axis:c,container:u,isWindow:f}=s,{offsetHeightKey:m,clientHeightKey:C}=i(c),v=t+d(Z(f,u),c,f),_=n(o.nativeElement,f,m,C),M=function r(t,o,s){const c=o.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[c]+d(t,o,s)}(o.nativeElement,c,f)+_;return{height:t,scrolled:v,totalToScroll:M,isWindow:f}}(s,t,o):function q(t,o,s){const{axis:c,container:u}=s;return{height:t,scrolled:u[c.scrollTopKey()],totalToScroll:u[c.scrollHeightKey()],isWindow:!1}}(s,0,o)}function i(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function n(t,o,s,c){if(isNaN(t[s])){const u=Z(o,t);return u?u[c]:0}return t[s]}function d(t,o,s){const c=o.pageYOffsetKey(),u=o.scrollTopKey(),f=o.offsetTopKey();return isNaN(window.pageYOffset)?Z(s,t)[u]:t.ownerDocument?t.ownerDocument.defaultView[c]:t[f]}function D(t,o={down:0,up:0},s){let c,u;if(t.totalToScroll<=0)return!1;const f=t.isWindow?t.scrolled:t.height+t.scrolled;return s?(c=(t.totalToScroll-f)/t.totalToScroll,u=(null!=o&&o.down?o.down:0)/10):(c=t.scrolled/(t.scrolled+(t.totalToScroll-f)),u=(null!=o&&o.up?o.up:0)/10),c<=u}class se{constructor({totalToScroll:o}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=o}updateScrollPosition(o){return this.lastScrollPosition=o}updateTotalToScroll(o){this.lastTotalToScroll!==o&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=o)}updateScroll(o,s){this.updateScrollPosition(o),this.updateTotalToScroll(s)}updateTriggeredFlag(o,s){s?this.triggered.down=o:this.triggered.up=o}isTriggeredScroll(o,s){return s?this.triggered.down===o:this.triggered.up===o}}function le(t){const{scrollContainer:o,scrollWindow:s,element:c,fromRoot:u}=t,f=function $({windowElement:t,axis:o}){return function j(t,o){const s=t.isWindow||o&&!o.nativeElement?o:o.nativeElement;return{...t,container:s}}({axis:o,isWindow:X(t)},t)}({axis:new z(!t.horizontal),windowElement:Y(o,s,c,u)}),m=new se({totalToScroll:N(c,f)}),v={up:t.upDistance,down:t.downDistance};return function ce(t){let o=(0,S.R)(t.container,"scroll");return t.throttle&&(o=o.pipe(function b(t,o=x.z,s=I){const c=(0,P.H)(t,o);return function a(t,o=I){return(0,g.e)((s,c)=>{const{leading:u,trailing:f}=o;let m=!1,C=null,v=null,_=!1;const M=()=>{v?.unsubscribe(),v=null,f&&(ne(),_&&c.complete())},ee=()=>{v=null,_&&c.complete()},oe=A=>v=(0,O.Xf)(t(A)).subscribe((0,E.x)(c,M,ee)),ne=()=>{if(m){m=!1;const A=C;C=null,c.next(A),!_&&oe(A)}};s.subscribe((0,E.x)(c,A=>{m=!0,C=A,(!v||v.closed)&&(u?ne():oe(A))},()=>{_=!0,(!(f&&m&&v)||v.closed)&&c.complete()}))})}(()=>c,s)}(t.throttle,void 0,{leading:!0,trailing:!0}))),o}({container:f.container,throttle:t.throttle}).pipe((0,y.z)(()=>(0,T.of)(N(c,f))),(0,h.U)(_=>function ae(t,o,s){const{scrollDown:c,fire:u}=function k(t,o,s){const c=function w(t,o){return t<o.scrolled}(t,o);return{fire:D(o,s,c),scrollDown:c}}(t,o,s);return{scrollDown:c,fire:u,stats:o}}(m.lastScrollPosition,_,v)),(0,W.b)(({stats:_})=>m.updateScroll(_.scrolled,_.totalToScroll)),(0,H.h)(({fire:_,scrollDown:M,stats:{totalToScroll:ee}})=>function Q(t,o,s){return!!(t&&o||!s&&o)}(t.alwaysCallback,_,m.isTriggeredScroll(ee,M))),(0,W.b)(({scrollDown:_,stats:{totalToScroll:M}})=>{m.updateTriggeredFlag(M,_)}),(0,h.U)(pe))}function pe(t){const{scrollDown:o,stats:{scrolled:s}}=t;return{type:o?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:s}}}let de=(()=>{class t{constructor(s,c){this.element=s,this.zone=c,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:s,infiniteScrollDisabled:c,infiniteScrollDistance:u}){const f=G(s),m=G(c),C=G(u),v=!m&&!this.infiniteScrollDisabled||m&&!c.currentValue||C;(f||m||C)&&(this.destroyScroller(),v&&this.setup())}setup(){(function B(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=le({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(s=>this.zone.run(()=>this.handleOnScroll(s)))})}handleOnScroll({type:s,payload:c}){switch(s){case"[NGX_ISE] DOWN":return this.scrolled.emit(c);case"[NGX_ISE] UP":return this.scrolledUp.emit(c);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(e.SBq),e.Y36(e.R0b))},t.\u0275dir=e.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),t})(),ue=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[]]}),t})()}}]);